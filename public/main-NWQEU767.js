import{$ as bc,$a as Hf,A as Os,Aa as It,Ab as Yf,B as vc,Ba as Yn,Bb as Xe,C as Rf,Ca as sr,Cb as Jf,D as ln,Da as or,Db as ni,E as Hn,Ea as ne,Eb as Xf,F as nr,Fa as k,Fb as Zf,G as wc,Ga as Dc,Gb as le,H as Ic,Ha as Uf,Hb as Js,I as vt,Ia as $s,Ib as ep,J as Pf,Ja as qs,Jb as Mc,K as kf,Ka as jf,Kb as tp,L as Vs,La as q,Lb as np,M as Ft,Ma as Bf,Mb as xc,N as Ec,Na as Lt,Nb as ip,O as Nf,Oa as ar,P as Mf,Pa as $f,Q as Fs,Qa as qf,R as Ls,Ra as zf,S as it,Sa as fn,T as Wn,Ta as Ut,U as oe,Ua as He,V as Q,Va as Et,W as Kn,Wa as Gf,X as P,Xa as bt,Y as ee,Ya as M,Z as xf,Za as V,_ as L,_a as Je,a as y,aa as I,ab as Rc,b as K,ba as T,bb as Re,ca as Me,cb as pn,d as Ot,da as ir,db as zs,e as h,ea as G,eb as Gs,f as fc,fa as we,fb as Pc,g as Tf,ga as te,gb as Hs,h as Zi,ha as Ie,hb as Ws,i as pc,ia as rr,ib as Wf,j as mc,ja as Us,jb as Y,k as qe,ka as Of,kb as Ks,l as Ne,la as js,lb as cr,m as Af,ma as hn,mb as Jn,n as Cf,na as dn,nb as Xn,o as Vt,oa as Tc,ob as Zn,p as gc,pa as Ac,pb as jt,q as _c,qa as Vf,qb as Ee,r as yc,ra as Qn,rb as ei,s as Oe,sa as Cc,sb as ti,t as C,ta as wt,tb as Kf,u as er,ua as Sc,ub as Qs,v as Sf,va as Ge,vb as Ys,w as Df,wa as De,wb as Qf,x as U,xa as Ff,xb as kc,y as tr,ya as Bs,yb as Nc,z as ze,za as Lf,zb as Bt}from"./chunk-MCBAATJE.js";var Fc=class extends Zf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lc=class t extends Fc{static makeCurrent(){Xf(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rw();return n==null?null:sw(n)}resetBaseElement(){ur=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ep(document.cookie,e)}},ur=null;function rw(){return ur=ur||document.querySelector("base"),ur?ur.getAttribute("href"):null}function sw(t){return new URL(t,document.baseURI).pathname}var ow=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Uc=new L(""),op=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(I(Uc),I(q))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Xs=class{constructor(e){this._doc=e}},Oc="ng-app-id",ap=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xc(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Oc}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Oc),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Oc,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(I(le),I(Bs),I(sr,8),I(It))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Vc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bc=/%COMP%/g,cp="%COMP%",aw=`_nghost-${cp}`,cw=`_ngcontent-${cp}`,uw=!0,lw=new L("",{providedIn:"root",factory:()=>uw});function hw(t){return cw.replace(Bc,t)}function dw(t){return aw.replace(Bc,t)}function up(t,e){return e.map(n=>n.replace(Bc,t))}var Zs=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,l=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=xc(c),this.defaultRenderer=new lr(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r=K(y({},r),{encapsulation:ir.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof eo?s.applyToHost(i):s instanceof hr&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:o=new eo(u,l,r,this.appId,d,a,c,f);break;case ir.ShadowDom:return new jc(u,l,i,r,a,c,this.nonce,f);default:o=new hr(u,l,r,d,a,c,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(I(op),I(ap),I(Bs),I(lw),I(le),I(It),I(q),I(sr))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),lr=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vc[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rp(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(rp(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Q(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Vc[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Vc[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(or.DashCase|or.Important)?e.style.setProperty(n,i,r&or.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ni().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function rp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jc=class extends lr{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=up(r.id,r.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hr=class extends lr{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?up(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},eo=class extends hr{constructor(e,n,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,n,i,s,o,a,c,u),this.contentAttr=hw(u),this.hostAttr=dw(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},fw=(()=>{let e=class e extends Xs{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(I(le))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),sp=["alt","control","meta","shift"],pw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gw=(()=>{let e=class e extends Xs{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),sp.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=pw[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),sp.forEach(a=>{if(a!==s){let c=mw[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(I(le))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function lp(t,e){return Yf(y({rootComponent:t},_w(e)))}function _w(t){return{appProviders:[...Ew,...t?.providers??[]],platformProviders:Iw}}function yw(){Lc.makeCurrent()}function vw(){return new Sc}function ww(){return Ff(document),document}var Iw=[{provide:It,useValue:tp},{provide:Lf,useValue:yw,multi:!0},{provide:le,useFactory:ww,deps:[]}];var Ew=[{provide:Of,useValue:"root"},{provide:Sc,useFactory:vw,deps:[]},{provide:Uc,useClass:fw,multi:!0,deps:[le,q,It]},{provide:Uc,useClass:gw,multi:!0,deps:[le]},Zs,ap,op,{provide:$s,useExisting:Zs},{provide:ip,useClass:ow,deps:[]},[]];var hp=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(I(le))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var S="primary",Cr=Symbol("RouteTitle"),Hc=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ai(t){return new Hc(t)}function Tw(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Aw(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rt(t[n],e[n]))return!1;return!0}function rt(t,e){let n=t?Wc(t):void 0,i=e?Wc(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!_p(t[r],e[r]))return!1;return!0}function Wc(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _p(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function yp(t){return t.length>0?t[t.length-1]:null}function zt(t){return Sf(t)?t:Ys(t)?Oe(Promise.resolve(t)):C(t)}var Cw={exact:wp,subset:Ip},vp={exact:Sw,subset:Dw,ignored:()=>!0};function dp(t,e,n){return Cw[n.paths](t.root,e.root,n.matrixParams)&&vp[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Sw(t,e){return rt(t,e)}function wp(t,e,n){if(!gn(t.segments,e.segments)||!io(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!wp(t.children[i],e.children[i],n))return!1;return!0}function Dw(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_p(t[n],e[n]))}function Ip(t,e,n){return Ep(t,e,e.segments,n)}function Ep(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!gn(r,n)||e.hasChildren()||!io(r,n,i))}else if(t.segments.length===n.length){if(!gn(t.segments,n)||!io(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Ip(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!gn(t.segments,r)||!io(t.segments,r,i)||!t.children[S]?!1:Ep(t.children[S],e,s,i)}}function io(t,e,n){return e.every((i,r)=>vp[n](t[r].parameters,i.parameters))}var $t=class{constructor(e=new j([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){return kw.serialize(this)}},j=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ro(this)}},mn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ai(this.parameters),this._parameterMap}toString(){return Tp(this)}};function Rw(t,e){return gn(t,e)&&t.every((n,i)=>rt(n.parameters,e[i].parameters))}function gn(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function Pw(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===S&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==S&&(n=n.concat(e(r,i)))}),n}var vu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>new oo,providedIn:"root"});let t=e;return t})(),oo=class{parse(e){let n=new Qc(e);return new $t(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${dr(e.root,!0)}`,i=xw(e.queryParams),r=typeof e.fragment=="string"?`#${Nw(e.fragment)}`:"";return`${n}${i}${r}`}},kw=new oo;function ro(t){return t.segments.map(e=>Tp(e)).join("/")}function dr(t,e){if(!t.hasChildren())return ro(t);if(e){let n=t.children[S]?dr(t.children[S],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==S&&i.push(`${r}:${dr(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Pw(t,(i,r)=>r===S?[dr(t.children[S],!1)]:[`${r}:${dr(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[S]!=null?`${ro(t)}/${n[0]}`:`${ro(t)}/(${n.join("//")})`}}function bp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function to(t){return bp(t).replace(/%3B/gi,";")}function Nw(t){return encodeURI(t)}function Kc(t){return bp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function so(t){return decodeURIComponent(t)}function fp(t){return so(t.replace(/\+/g,"%20"))}function Tp(t){return`${Kc(t.path)}${Mw(t.parameters)}`}function Mw(t){return Object.entries(t).map(([e,n])=>`;${Kc(e)}=${Kc(n)}`).join("")}function xw(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${to(n)}=${to(r)}`).join("&"):`${to(n)}=${to(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Ow=/^[^\/()?;#]+/;function $c(t){let e=t.match(Ow);return e?e[0]:""}var Vw=/^[^\/()?;=#]+/;function Fw(t){let e=t.match(Vw);return e?e[0]:""}var Lw=/^[^=?&#]+/;function Uw(t){let e=t.match(Lw);return e?e[0]:""}var jw=/^[^&#]+/;function Bw(t){let e=t.match(jw);return e?e[0]:""}var Qc=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new j([],{}):new j([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[S]=new j(e,n)),i}parseSegment(){let e=$c(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new mn(so(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Fw(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=$c(this.remaining);r&&(i=r,this.capture(i))}e[so(n)]=so(i)}parseQueryParam(e){let n=Uw(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=Bw(this.remaining);o&&(i=o,this.capture(i))}let r=fp(n),s=fp(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=$c(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Q(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=S);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[S]:new j([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function Ap(t){return t.segments.length>0?new j([],{[S]:t}):t}function Cp(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=Cp(r);if(i===S&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new j(t.segments,e);return $w(n)}function $w(t){if(t.numberOfChildren===1&&t.children[S]){let e=t.children[S];return new j(t.segments.concat(e.segments),e.children)}return t}function ci(t){return t instanceof $t}function qw(t,e,n=null,i=null){let r=Sp(t);return Dp(r,e,n,i)}function Sp(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new j(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=Ap(i);return e??r}function Dp(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return qc(r,r,r,n,i);let s=zw(e);if(s.toRoot())return qc(r,r,new j([],{}),n,i);let o=Gw(s,r,t),a=o.processChildren?mr(o.segmentGroup,o.index,s.commands):Pp(o.segmentGroup,o.index,s.commands);return qc(r,o.segmentGroup,a,n,i)}function ao(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yr(t){return typeof t=="object"&&t!=null&&t.outlets}function qc(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Rp(t,e,n);let a=Ap(Cp(o));return new $t(a,s,r)}function Rp(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=Rp(s,e,n)}),new j(t.segments,i)}var co=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&ao(i[0]))throw new Q(4003,!1);let r=i.find(yr);if(r&&r!==yp(i))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zw(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new co(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new co(n,e,i)}var si=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function Gw(t,e,n){if(t.isAbsolute)return new si(e,!0,0);if(!n)return new si(e,!1,NaN);if(n.parent===null)return new si(n,!0,0);let i=ao(t.commands[0])?0:1,r=n.segments.length-1+i;return Hw(n,r,t.numberOfDoubleDots)}function Hw(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Q(4005,!1);r=i.segments.length}return new si(i,!1,r-s)}function Ww(t){return yr(t[0])?t[0].outlets:{[S]:t}}function Pp(t,e,n){if(t??=new j([],{}),t.segments.length===0&&t.hasChildren())return mr(t,e,n);let i=Kw(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new j(t.segments.slice(0,i.pathIndex),{});return s.children[S]=new j(t.segments.slice(i.pathIndex),t.children),mr(s,0,r)}else return i.match&&r.length===0?new j(t.segments,{}):i.match&&!t.hasChildren()?Yc(t,e,n):i.match?mr(t,0,r):Yc(t,e,n)}function mr(t,e,n){if(n.length===0)return new j(t.segments,{});{let i=Ww(n),r={};if(Object.keys(i).some(s=>s!==S)&&t.children[S]&&t.numberOfChildren===1&&t.children[S].segments.length===0){let s=mr(t.children[S],e,n);return new j(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Pp(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new j(t.segments,r)}}function Kw(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(yr(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!mp(c,u,o))return s;i+=2}else{if(!mp(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Yc(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(yr(s)){let c=Qw(s.outlets);return new j(i,c)}if(r===0&&ao(n[0])){let c=t.segments[e];i.push(new mn(c.path,pp(n[0]))),r++;continue}let o=yr(s)?s.outlets[S]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&ao(a)?(i.push(new mn(o,pp(a))),r+=2):(i.push(new mn(o,{})),r++)}return new j(i,{})}function Qw(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Yc(new j([],{}),0,i))}),e}function pp(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function mp(t,e,n){return t==n.path&&rt(e,n.parameters)}var gr="imperative",_e=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_e||{}),We=class{constructor(e,n){this.id=e,this.url=n}},vr=class extends We{constructor(e,n,i="imperative",r=null){super(e,n),this.type=_e.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends We{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=_e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fe=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Fe||{}),Jc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jc||{}),qt=class extends We{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=_e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yn=class extends We{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=_e.NavigationSkipped}},wr=class extends We{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=_e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},uo=class extends We{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xc=class extends We{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zc=class extends We{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=_e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},eu=class extends We{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class extends We{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nu=class{constructor(e){this.route=e,this.type=_e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},iu=class{constructor(e){this.route=e,this.type=_e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ru=class{constructor(e){this.snapshot=e,this.type=_e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{constructor(e){this.snapshot=e,this.type=_e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ou=class{constructor(e){this.snapshot=e,this.type=_e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},au=class{constructor(e){this.snapshot=e,this.type=_e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ir=class{},Er=class{constructor(e){this.url=e}};var cu=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new go,this.attachRef=null}},go=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new cu,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lo=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=uu(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=uu(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=lu(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return lu(e,this._root).map(n=>n.value)}};function uu(t,e){if(t===e.value)return e;for(let n of e.children){let i=uu(t,n);if(i)return i}return null}function lu(t,e){if(t===e.value)return[e];for(let n of e.children){let i=lu(t,n);if(i.length)return i.unshift(e),i}return[]}var Ve=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ri(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ho=class extends lo{constructor(e,n){super(e),this.snapshot=n,Iu(this,e)}toString(){return this.snapshot.toString()}};function kp(t){let e=Yw(t),n=new Ne([new mn("",{})]),i=new Ne({}),r=new Ne({}),s=new Ne({}),o=new Ne(""),a=new ui(n,i,s,o,r,S,t,e.root);return a.snapshot=e.root,new ho(new Ve(a,[]),e)}function Yw(t){let e={},n={},i={},r="",s=new br([],e,i,r,n,S,t,null,{});return new fo("",new Ve(s,[]))}var ui=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(U(u=>u[Cr]))??C(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(e=>ai(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(e=>ai(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wu(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),r?.data),t._resolvedData)}:i={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},r&&Mp(r)&&(i.resolve[Cr]=r.title),i}var br=class{get title(){return this.data?.[Cr]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},fo=class extends lo{constructor(e,n){super(n),this.url=e,Iu(this,n)}toString(){return Np(this._root)}};function Iu(t,e){e.value._routerState=t,e.children.forEach(n=>Iu(t,n))}function Np(t){let e=t.children.length>0?` { ${t.children.map(Np).join(", ")} } `:"";return`${t.value}${e}`}function zc(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rt(e.params,n.params)||t.paramsSubject.next(n.params),Aw(e.url,n.url)||t.urlSubject.next(n.url),rt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hu(t,e){let n=rt(t.params,e.params)&&Rw(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||hu(t.parent,e.parent))}function Mp(t){return typeof t.title=="string"||t.title===null}var Eu=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=S,this.activateEvents=new De,this.deactivateEvents=new De,this.attachEvents=new De,this.detachEvents=new De,this.parentContexts=T(go),this.location=T(Bf),this.changeDetector=T(Bt),this.environmentInjector=T(js),this.inputBinder=T(bu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new du(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ie({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dn]});let t=e;return t})(),du=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===ui?this.route:e===go?this.childContexts:this.parent.get(e,n)}},bu=new L("");function Jw(t,e,n){let i=Tr(t,e._root,n?n._root:void 0);return new ho(i,e)}function Tr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Xw(t,e,n);return new Ve(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Tr(t,a)),o}}let i=Zw(e.value),r=e.children.map(s=>Tr(t,s));return new Ve(i,r)}}function Xw(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Tr(t,i,r);return Tr(t,i)})}function Zw(t){return new ui(new Ne(t.url),new Ne(t.params),new Ne(t.queryParams),new Ne(t.fragment),new Ne(t.data),t.outlet,t.component,t)}var xp="ngNavigationCancelingError";function Op(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ci(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Vp(!1,Fe.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Vp(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[xp]=!0,n.cancellationCode=e,n}function eI(t){return Fp(t)&&ci(t.url)}function Fp(t){return!!t&&t[xp]}var tI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=we({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ee],decls:1,vars:0,template:function(r,s){r&1&&Je(0,"router-outlet")},dependencies:[Eu],encapsulation:2});let t=e;return t})();function nI(t,e){return t.providers&&!t._injector&&(t._injector=qf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Tu(t){let e=t.children&&t.children.map(Tu),n=e?K(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==S&&(n.component=tI),n}function st(t){return t.outlet||S}function iI(t,e){let n=t.filter(i=>st(i)===e);return n.push(...t.filter(i=>st(i)!==e)),n}function Sr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rI=(t,e,n,i)=>U(r=>(new fu(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),fu=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),zc(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=ri(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=ri(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=ri(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=ri(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new au(s.value.snapshot))}),e.children.length&&this.forwardEvent(new su(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(zc(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zc(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Sr(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},po=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},oi=class{constructor(e,n){this.component=e,this.route=n}};function sI(t,e,n){let i=t._root,r=e?e._root:null;return fr(i,r,n,[i.value])}function oI(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function hi(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!xf(t)?t:e.get(t):i}function fr(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ri(e);return t.children.forEach(o=>{aI(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_r(a,n.getContext(o),r)),r}function aI(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=cI(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new po(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fr(t,e,a?a.children:null,i,r):fr(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new oi(a.outlet.component,o))}else o&&_r(e,a,r),r.canActivateChecks.push(new po(i)),s.component?fr(t,null,a?a.children:null,i,r):fr(t,null,n,i,r);return r}function cI(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!gn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gn(t.url,e.url)||!rt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hu(t,e)||!rt(t.queryParams,e.queryParams);case"paramsChange":default:return!hu(t,e)}}function _r(t,e,n){let i=ri(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?_r(o,e.children.getContext(s),n):_r(o,null,n):_r(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new oi(e.outlet.component,r)):n.canDeactivateChecks.push(new oi(null,r)):n.canDeactivateChecks.push(new oi(null,r))}function Dr(t){return typeof t=="function"}function uI(t){return typeof t=="boolean"}function lI(t){return t&&Dr(t.canLoad)}function hI(t){return t&&Dr(t.canActivate)}function dI(t){return t&&Dr(t.canActivateChild)}function fI(t){return t&&Dr(t.canDeactivate)}function pI(t){return t&&Dr(t.canMatch)}function Lp(t){return t instanceof Df||t?.name==="EmptyError"}var no=Symbol("INITIAL_VALUE");function li(){return it(t=>tr(t.map(e=>e.pipe(vt(1),Ls(no)))).pipe(U(e=>{for(let n of e)if(n!==!0){if(n===no)return no;if(n===!1||n instanceof $t)return n}return!0}),ln(e=>e!==no),vt(1)))}function mI(t,e){return ze(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?C(K(y({},n),{guardsResult:!0})):gI(o,i,r,t).pipe(ze(a=>a&&uI(a)?_I(i,s,t,e):C(a)),U(a=>K(y({},n),{guardsResult:a})))})}function gI(t,e,n,i){return Oe(t).pipe(ze(r=>EI(r.component,r.route,n,e,i)),Ft(r=>r!==!0,!0))}function _I(t,e,n,i){return Oe(e).pipe(nr(r=>Os(vI(r.route.parent,i),yI(r.route,i),II(t,r.path,n),wI(t,r.route,n))),Ft(r=>r!==!0,!0))}function yI(t,e){return t!==null&&e&&e(new ou(t)),C(!0)}function vI(t,e){return t!==null&&e&&e(new ru(t)),C(!0)}function wI(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(s=>vc(()=>{let o=Sr(e)??n,a=hi(s,o),c=hI(a)?a.canActivate(e,t):hn(o,()=>a(e,t));return zt(c).pipe(Ft())}));return C(r).pipe(li())}function II(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>oI(o)).filter(o=>o!==null).map(o=>vc(()=>{let a=o.guards.map(c=>{let u=Sr(o.node)??n,l=hi(c,u),d=dI(l)?l.canActivateChild(i,t):hn(u,()=>l(i,t));return zt(d).pipe(Ft())});return C(a).pipe(li())}));return C(s).pipe(li())}function EI(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return C(!0);let o=s.map(a=>{let c=Sr(e)??r,u=hi(a,c),l=fI(u)?u.canDeactivate(t,e,n,i):hn(c,()=>u(t,e,n,i));return zt(l).pipe(Ft())});return C(o).pipe(li())}function bI(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return C(!0);let s=r.map(o=>{let a=hi(o,t),c=lI(a)?a.canLoad(e,n):hn(t,()=>a(e,n));return zt(c)});return C(s).pipe(li(),Up(i))}function Up(t){return Tf(oe(e=>{if(ci(e))throw Op(t,e)}),U(e=>e===!0))}function TI(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return C(!0);let s=r.map(o=>{let a=hi(o,t),c=pI(a)?a.canMatch(e,n):hn(t,()=>a(e,n));return zt(c)});return C(s).pipe(li(),Up(i))}var Ar=class{constructor(e){this.segmentGroup=e||null}},mo=class extends Error{constructor(e){super(),this.urlTree=e}};function ii(t){return er(new Ar(t))}function AI(t){return er(new Q(4e3,!1))}function CI(t){return er(Vp(!1,Fe.GuardRejected))}var pu=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[S])return AI(e.redirectTo);r=r.children[S]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new mo(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new $t(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new j(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Q(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},mu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SI(t,e,n,i,r){let s=Au(t,e,n);return s.matched?(i=nI(e,i),TI(i,e,n,r).pipe(U(o=>o===!0?s:y({},mu)))):C(s)}function Au(t,e,n){if(e.path==="**")return DI(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},mu):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Tw)(n,t,e);if(!r)return y({},mu);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?y(y({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function DI(t){return{matched:!0,parameters:t.length>0?yp(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function gp(t,e,n,i){return n.length>0&&kI(t,n,i)?{segmentGroup:new j(e,PI(i,new j(n,t.children))),slicedSegments:[]}:n.length===0&&NI(t,n,i)?{segmentGroup:new j(t.segments,RI(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new j(t.segments,t.children),slicedSegments:n}}function RI(t,e,n,i){let r={};for(let s of n)if(_o(t,e,s)&&!i[st(s)]){let o=new j([],{});r[st(s)]=o}return y(y({},i),r)}function PI(t,e){let n={};n[S]=e;for(let i of t)if(i.path===""&&st(i)!==S){let r=new j([],{});n[st(i)]=r}return n}function kI(t,e,n){return n.some(i=>_o(t,e,i)&&st(i)!==S)}function NI(t,e,n){return n.some(i=>_o(t,e,i))}function _o(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function MI(t,e,n,i){return st(t)!==i&&(i===S||!_o(e,n,t))?!1:Au(e,t,n).matched}function xI(t,e,n){return e.length===0&&!t.children[n]}var gu=class{};function OI(t,e,n,i,r,s,o="emptyOnly"){return new _u(t,e,n,i,r,o,s).recognize()}var VI=31,_u=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new pu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=gp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(U(n=>{let i=new br([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,{},S,this.rootComponentType,null,{}),r=new Ve(i,n),s=new fo("",r),o=qw(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,S).pipe(Hn(i=>{if(i instanceof mo)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ar?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=wu(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(U(s=>s instanceof Ve?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Oe(r).pipe(nr(s=>{let o=i.children[s],a=iI(n,s);return this.processSegmentGroup(e,a,o,s)}),Mf((s,o)=>(s.push(...o),s)),Ic(null),Nf(),ze(s=>{if(s===null)return ii(i);let o=jp(s);return FI(o),C(o)}))}processSegment(e,n,i,r,s,o){return Oe(n).pipe(nr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(Hn(c=>{if(c instanceof Ar)return C(null);throw c}))),Ft(a=>!!a),Hn(a=>{if(Lp(a))return xI(i,r,s)?C(new gu):ii(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return MI(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):ii(r):ii(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Au(n,r,s);if(!a)return ii(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VI&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,d).pipe(ze(f=>this.processSegment(e,i,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=SI(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(it(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(it(({routes:c})=>{let u=i._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,m=new br(l,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,UI(i),st(i),i.component??i._loadedComponent??null,i,jI(i)),{segmentGroup:b,slicedSegments:D}=gp(n,l,d,c);if(D.length===0&&b.hasChildren())return this.processChildren(u,c,b).pipe(U(B=>B===null?null:new Ve(m,B)));if(c.length===0&&D.length===0)return C(new Ve(m,[]));let R=st(i)===s;return this.processSegment(u,c,b,D,R?S:s,!0).pipe(U(B=>new Ve(m,B instanceof Ve?[B]:[])))}))):ii(n)))}getChildConfig(e,n,i){return n.children?C({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?C({routes:n._loadedRoutes,injector:n._loadedInjector}):bI(e,n,i,this.urlSerializer).pipe(ze(r=>r?this.configLoader.loadChildren(e,n).pipe(oe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):CI(n))):C({routes:[],injector:e})}};function FI(t){t.sort((e,n)=>e.value.outlet===S?-1:n.value.outlet===S?1:e.value.outlet.localeCompare(n.value.outlet))}function LI(t){let e=t.value.routeConfig;return e&&e.path===""}function jp(t){let e=[],n=new Set;for(let i of t){if(!LI(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=jp(i.children);e.push(new Ve(i.value,r))}return e.filter(i=>!n.has(i))}function UI(t){return t.data||{}}function jI(t){return t.resolve||{}}function BI(t,e,n,i,r,s){return ze(o=>OI(t,e,n,i,o.extractedUrl,r,s).pipe(U(({state:a,tree:c})=>K(y({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function $I(t,e){return ze(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return C(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Bp(c))o.add(u);let a=0;return Oe(o).pipe(nr(c=>s.has(c)?qI(c,i,t,e):(c.data=wu(c,c.parent,t).resolve,C(void 0))),oe(()=>a++),Ec(1),ze(c=>a===o.size?C(n):Vt))})}function Bp(t){let e=t.children.map(n=>Bp(n)).flat();return[t,...e]}function qI(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!Mp(r)&&(s[Cr]=r.title),zI(s,t,e,i).pipe(U(o=>(t._resolvedData=o,t.data=wu(t,t.parent,n).resolve,null)))}function zI(t,e,n,i){let r=Wc(t);if(r.length===0)return C({});let s={};return Oe(r).pipe(ze(o=>GI(t[o],e,n,i).pipe(Ft(),oe(a=>{s[o]=a}))),Ec(1),Pf(s),Hn(o=>Lp(o)?Vt:er(o)))}function GI(t,e,n,i){let r=Sr(e)??i,s=hi(t,r),o=s.resolve?s.resolve(e,n):hn(r,()=>s(e,n));return zt(o)}function Gc(t){return it(e=>{let n=t(e);return n?Oe(n).pipe(U(()=>e)):C(e)})}var $p=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===S);return r}getResolvedTitleForRoute(i){return i.data[Cr]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>T(HI),providedIn:"root"});let t=e;return t})(),HI=(()=>{let e=class e extends $p{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(I(hp))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cu=new L("",{providedIn:"root",factory:()=>({})}),Su=new L(""),WI=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(Nc)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return C(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=zt(i.loadComponent()).pipe(U(qp),oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Vs(()=>{this.componentLoaders.delete(i)})),s=new mc(r,()=>new qe).pipe(pc());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return C({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KI(r,this.compiler,i,this.onLoadEndListener).pipe(Vs(()=>{this.childrenLoaders.delete(r)})),a=new mc(o,()=>new qe).pipe(pc());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KI(t,e,n,i){return zt(t.loadChildren()).pipe(U(qp),ze(r=>r instanceof $f||Array.isArray(r)?C(r):Oe(e.compileModuleAsync(r))),U(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Su,[],{optional:!0,self:!0}).flat()),{routes:o.map(Tu),injector:s}}))}function QI(t){return t&&typeof t=="object"&&"default"in t}function qp(t){return QI(t)?t.default:t}var Du=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>T(YI),providedIn:"root"});let t=e;return t})(),YI=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JI=new L("");var XI=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=T(WI),this.environmentInjector=T(js),this.urlSerializer=T(vu),this.rootContexts=T(go),this.location=T(Js),this.inputBindingEnabled=T(bu,{optional:!0})!==null,this.titleStrategy=T($p),this.options=T(Cu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=T(Du),this.createViewTransition=T(JI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>C(void 0),this.rootComponentType=null;let i=s=>this.events.next(new nu(s)),r=s=>this.events.next(new iu(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(K(y(y({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Ne({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gr,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ln(o=>o.id!==0),U(o=>K(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),it(o=>{let a=!1,c=!1;return C(o).pipe(it(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Fe.SupersededByNewNavigation),Vt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?K(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new yn(u.id,this.urlSerializer.serialize(u.rawUrl),f,Jc.IgnoredSameUrlNavigation)),u.resolve(null),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return C(u).pipe(it(f=>{let m=this.transitions?.getValue();return this.events.next(new vr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Vt:Promise.resolve(f)}),BI(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),oe(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=K(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new uo(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:m,source:b,restoredState:D,extras:R}=u,B=new vr(f,this.urlSerializer.serialize(m),b,D);this.events.next(B);let Z=kp(this.rootComponentType).snapshot;return this.currentTransition=o=K(y({},u),{targetSnapshot:Z,urlAfterRedirects:m,extras:K(y({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,C(o)}else{let f="";return this.events.next(new yn(u.id,this.urlSerializer.serialize(u.extractedUrl),f,Jc.IgnoredByUrlHandlingStrategy)),u.resolve(null),Vt}}),oe(u=>{let l=new Xc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),U(u=>(this.currentTransition=o=K(y({},u),{guards:sI(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),mI(this.environmentInjector,u=>this.events.next(u)),oe(u=>{if(o.guardsResult=u.guardsResult,ci(u.guardsResult))throw Op(this.urlSerializer,u.guardsResult);let l=new Zc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ln(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Fe.GuardRejected),!1)),Gc(u=>{if(u.guards.canActivateChecks.length)return C(u).pipe(oe(l=>{let d=new eu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),it(l=>{let d=!1;return C(l).pipe($I(this.paramsInheritanceStrategy,this.environmentInjector),oe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Fe.NoDataFromResolver)}}))}),oe(l=>{let d=new tu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Gc(u=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(oe(m=>{d.component=m}),U(()=>{})));for(let m of d.children)f.push(...l(m));return f};return tr(l(u.targetSnapshot.root)).pipe(Ic(null),vt(1))}),Gc(()=>this.afterPreactivation()),it(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Oe(d).pipe(U(()=>o)):C(o)}),U(u=>{let l=Jw(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=K(y({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),oe(()=>{this.events.next(new Ir)}),rI(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),vt(1),oe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Wn(this.transitionAbortSubject.pipe(oe(u=>{throw u}))),Vs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Fe.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(u=>{if(c=!0,Fp(u))this.events.next(new qt(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),eI(u)?this.events.next(new Er(u.url)):o.resolve(!1);else{this.events.next(new wr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Vt}))}))}cancelNavigationTransition(i,r,s){let o=new qt(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZI(t){return t!==gr}var eE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>T(tE),providedIn:"root"});let t=e;return t})(),yu=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tE=(()=>{let e=class e extends yu{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Qn(e)))(s||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>T(nE),providedIn:"root"});let t=e;return t})(),nE=(()=>{let e=class e extends zp{constructor(){super(...arguments),this.location=T(Js),this.urlSerializer=T(vu),this.options=T(Cu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=T(Du),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $t,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof vr)this.stateMemento=this.createStateMemento();else if(i instanceof yn)this.rawUrlTree=r.initialUrl;else if(i instanceof uo){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Ir?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof qt&&(i.code===Fe.GuardRejected||i.code===Fe.NoDataFromResolver)?this.restoreHistory(r):i instanceof wr?this.restoreHistory(r,!0):i instanceof _n&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=y(y({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=y(y({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Qn(e)))(s||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pr||{});function iE(t,e){t.events.pipe(ln(n=>n instanceof _n||n instanceof qt||n instanceof wr||n instanceof yn),U(n=>n instanceof _n||n instanceof yn?pr.COMPLETE:(n instanceof qt?n.code===Fe.Redirect||n.code===Fe.SupersededByNewNavigation:!1)?pr.REDIRECTING:pr.FAILED),ln(n=>n!==pr.REDIRECTING),vt(1)).subscribe(()=>{e()})}function rE(t){throw t}var sE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},di=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=T(Qs),this.stateManager=T(zp),this.options=T(Cu,{optional:!0})||{},this.pendingTasks=T(zf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=T(XI),this.urlSerializer=T(vu),this.location=T(Js),this.urlHandlingStrategy=T(Du),this._events=new qe,this.errorHandler=this.options.errorHandler||rE,this.navigated=!1,this.routeReuseStrategy=T(eE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=T(Su,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!T(bu,{optional:!0}),this.eventsSubscription=new fc,this.isNgZoneEnabled=T(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qt&&r.code!==Fe.Redirect&&r.code!==Fe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _n)this.navigated=!0;else if(r instanceof Er){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ZI(s.source)};this.scheduleNavigation(a,gr,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}cE(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=y({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Tu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=s?s.snapshot:this.routerState.snapshot.root;f=Sp(m)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),f=this.currentUrlTree.root}return Dp(f,i,d,l??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ci(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,gr,null,r)}navigate(i,r={skipLocationChange:!1}){return aE(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=y({},sE):r===!1?s=y({},oE):s=r,ci(i))return dp(this.currentUrlTree,i,s);let o=this.parseUrl(i);return dp(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,m)=>{c=f,u=m});let d=this.pendingTasks.add();return iE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aE(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function cE(t){return!(t instanceof Ir)&&!(t instanceof Er)}var uE=new L("");function Gp(t,...e){return rr([{provide:Su,multi:!0,useValue:t},[],{provide:ui,useFactory:lE,deps:[di]},{provide:Qf,multi:!0,useFactory:hE},e.map(n=>n.\u0275providers)])}function lE(t){return t.routerState.root}function hE(){let t=T(wt);return e=>{let n=t.get(kc);if(e!==n.components[0])return;let i=t.get(di),r=t.get(dE);t.get(fE)===1&&i.initialNavigation(),t.get(pE,null,bc.Optional)?.setUpPreloading(),t.get(uE,null,bc.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var dE=new L("",{factory:()=>new qe}),fE=new L("",{providedIn:"root",factory:()=>1});var pE=new L("");var Wp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=we({type:e,selectors:[["app-home"]],standalone:!0,features:[Ee],decls:2,vars:0,template:function(r,s){r&1&&(M(0,"p"),Y(1,"home works!"),V())}});let t=e;return t})();var Kp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=we({type:e,selectors:[["app-page-not-found-component"]],standalone:!0,features:[Ee],decls:2,vars:0,template:function(r,s){r&1&&(M(0,"p"),Y(1,"page-not-found-component works!"),V())}});let t=e;return t})();var Yp=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},mE=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Jp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,l=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),i.push(n[l],n[d],n[f],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new Pu;let f=s<<2|a>>4;if(i.push(f),u!==64){let m=a<<4&240|u>>2;if(i.push(m),d!==64){let b=u<<6&192|d;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pu=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gE=function(t){let e=Yp(t);return Jp.encodeByteArray(e,!0)},Rr=function(t){return gE(t).replace(/\./g,"")},Nu=function(t){try{return Jp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yE=()=>_E().__FIREBASE_DEFAULTS__,vE=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Nu(t[1]);return e&&JSON.parse(e)},vo=()=>{try{return yE()||vE()||wE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mu=t=>{var e,n;return(n=(e=vo())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xp=t=>{let e=Mu(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},xu=()=>{var t;return(t=vo())===null||t===void 0?void 0:t.config},Ou=t=>{var e;return(e=vo())===null||e===void 0?void 0:e[`_${t}`]};var yo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Zp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rr(JSON.stringify(n)),Rr(JSON.stringify(o)),""].join(".")}function ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function em(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function IE(){var t;let e=(t=vo())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tm(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function im(){let t=ae();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rm(){return!IE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vu(){try{return typeof indexedDB=="object"}catch{return!1}}function sm(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var EE="FirebaseError",Le=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=EE,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}},Tt=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?bE(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Le(r,a,i)}};function bE(t,e){return t.replace(TE,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var TE=/\{\$([^}]+)}/g;function om(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vn(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Qp(s)&&Qp(o)){if(!vn(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Qp(t){return t!==null&&typeof t=="object"}function Pr(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fi(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function pi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function am(t,e){let n=new ku(t,e);return n.subscribe.bind(n)}var ku=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");AE(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ru),r.error===void 0&&(r.error=Ru),r.complete===void 0&&(r.complete=Ru);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AE(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ru(){}var sP=4*60*60*1e3;function xe(t){return t&&t._delegate?t._delegate:t}var Ke=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wn="[DEFAULT]";var Fu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new yo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SE(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return h(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wn){return this.instances.has(e)}getOptions(e=wn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CE(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wn){return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CE(t){return t===wn?void 0:t}function SE(t){return t.instantiationMode==="EAGER"}var wo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var DE=[],x=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(x||{}),RE={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},PE=x.INFO,kE={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},NE=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=kE[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gt=class{constructor(e){this.name=e,this._logLevel=PE,this._logHandler=NE,this._userLogHandler=null,DE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in x))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...e),this._logHandler(this,x.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...e),this._logHandler(this,x.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,x.INFO,...e),this._logHandler(this,x.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,x.WARN,...e),this._logHandler(this,x.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...e),this._logHandler(this,x.ERROR,...e)}};var ME=(t,e)=>e.some(n=>t instanceof n),cm,um;function xE(){return cm||(cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OE(){return um||(um=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lm=new WeakMap,Uu=new WeakMap,hm=new WeakMap,Lu=new WeakMap,Bu=new WeakMap;function VE(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ot(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lm.set(n,t)}).catch(()=>{}),Bu.set(e,t),e}function FE(t){if(Uu.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Uu.set(t,e)}var ju={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ot(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dm(t){ju=t(ju)}function LE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(Io(this),e,...n);return hm.set(i,e.sort?e.sort():[e]),ot(i)}:OE().includes(t)?function(...e){return t.apply(Io(this),e),ot(lm.get(this))}:function(...e){return ot(t.apply(Io(this),e))}}function UE(t){return typeof t=="function"?LE(t):(t instanceof IDBTransaction&&FE(t),ME(t,xE())?new Proxy(t,ju):t)}function ot(t){if(t instanceof IDBRequest)return VE(t);if(Lu.has(t))return Lu.get(t);let e=UE(t);return e!==t&&(Lu.set(t,e),Bu.set(e,t)),e}var Io=t=>Bu.get(t);function pm(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=ot(o);return i&&o.addEventListener("upgradeneeded",c=>{i(ot(o.result),c.oldVersion,c.newVersion,ot(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var jE=["get","getKey","getAll","getAllKeys","count"],BE=["put","add","delete","clear"],$u=new Map;function fm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($u.get(e))return $u.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=BE.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||jE.includes(n)))return;let s=function(o,...a){return h(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return $u.set(e,s),s}dm(t=>K(y({},t),{get:(e,n,i)=>fm(e,n)||t.get(e,n,i),has:(e,n)=>!!fm(e,n)||t.has(e,n)}));var zu=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($E(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function $E(t){let e=t.getComponent();return e?.type==="VERSION"}var Gu="@firebase/app",mm="0.10.2";var In=new Gt("@firebase/app"),qE="@firebase/app-compat",zE="@firebase/analytics-compat",GE="@firebase/analytics",HE="@firebase/app-check-compat",WE="@firebase/app-check",KE="@firebase/auth",QE="@firebase/auth-compat",YE="@firebase/database",JE="@firebase/database-compat",XE="@firebase/functions",ZE="@firebase/functions-compat",eb="@firebase/installations",tb="@firebase/installations-compat",nb="@firebase/messaging",ib="@firebase/messaging-compat",rb="@firebase/performance",sb="@firebase/performance-compat",ob="@firebase/remote-config",ab="@firebase/remote-config-compat",cb="@firebase/storage",ub="@firebase/storage-compat",lb="@firebase/firestore",hb="@firebase/firestore-compat",db="firebase",fb="10.11.1";var Hu="[DEFAULT]",pb={[Gu]:"fire-core",[qE]:"fire-core-compat",[GE]:"fire-analytics",[zE]:"fire-analytics-compat",[WE]:"fire-app-check",[HE]:"fire-app-check-compat",[KE]:"fire-auth",[QE]:"fire-auth-compat",[YE]:"fire-rtdb",[JE]:"fire-rtdb-compat",[XE]:"fire-fn",[ZE]:"fire-fn-compat",[eb]:"fire-iid",[tb]:"fire-iid-compat",[nb]:"fire-fcm",[ib]:"fire-fcm-compat",[rb]:"fire-perf",[sb]:"fire-perf-compat",[ob]:"fire-rc",[ab]:"fire-rc-compat",[cb]:"fire-gcs",[ub]:"fire-gcs-compat",[lb]:"fire-fst",[hb]:"fire-fst-compat","fire-js":"fire-js",[db]:"fire-js-all"};var kr=new Map,mb=new Map,Wu=new Map;function gm(t,e){try{t.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wt(t){let e=t.name;if(Wu.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;Wu.set(e,t);for(let n of kr.values())gm(n,t);for(let n of mb.values())gm(n,t);return!0}function Mr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ze(t){return t.settings!==void 0}var gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ht=new Tt("app","Firebase",gb);var Ku=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ke("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}};var Kt=fb;function Ju(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Hu,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ht.create("bad-app-name",{appName:String(r)});if(n||(n=xu()),!n)throw Ht.create("no-options");let s=kr.get(r);if(s){if(vn(n,s.options)&&vn(i,s.config))return s;throw Ht.create("duplicate-app",{appName:r})}let o=new wo(r);for(let c of Wu.values())o.addComponent(c);let a=new Ku(n,i,o);return kr.set(r,a),a}function mi(t=Hu){let e=kr.get(t);if(!e&&t===Hu&&xu())return Ju();if(!e)throw Ht.create("no-app",{appName:t});return e}function Eo(){return Array.from(kr.values())}function ce(t,e,n){var i;let r=(i=pb[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(a.join(" "));return}Wt(new Ke(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var _b="firebase-heartbeat-database",yb=1,Nr="firebase-heartbeat-store",qu=null;function wm(){return qu||(qu=pm(_b,yb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nr)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ht.create("idb-open",{originalErrorMessage:t.message})})),qu}function vb(t){return h(this,null,function*(){try{let n=(yield wm()).transaction(Nr),i=yield n.objectStore(Nr).get(Im(t));return yield n.done,i}catch(e){if(e instanceof Le)In.warn(e.message);else{let n=Ht.create("idb-get",{originalErrorMessage:e?.message});In.warn(n.message)}}})}function _m(t,e){return h(this,null,function*(){try{let i=(yield wm()).transaction(Nr,"readwrite");yield i.objectStore(Nr).put(e,Im(t)),yield i.done}catch(n){if(n instanceof Le)In.warn(n.message);else{let i=Ht.create("idb-set",{originalErrorMessage:n?.message});In.warn(i.message)}}})}function Im(t){return`${t.name}!${t.options.appId}`}var wb=1024,Ib=30*24*60*60*1e3,Qu=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Yu(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return h(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ym();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Ib}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return h(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ym(),{heartbeatsToSend:i,unsentEntries:r}=Eb(this._heartbeatsCache.heartbeats),s=Rr(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function ym(){return new Date().toISOString().substring(0,10)}function Eb(t,e=wb){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),vm(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),vm(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Yu=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return h(this,null,function*(){return Vu()?sm().then(()=>!0).catch(()=>!1):!1})}read(){return h(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return _m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return _m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function vm(t){return Rr(JSON.stringify({version:2,heartbeats:t})).length}function bb(t){Wt(new Ke("platform-logger",e=>new zu(e),"PRIVATE")),Wt(new Ke("heartbeat",e=>new Qu(e),"PRIVATE")),ce(Gu,mm,t),ce(Gu,mm,"esm2017"),ce("fire-js","")}bb("");var Tb="firebase",Ab="10.11.1";ce(Tb,Ab,"app");var bn=new ti("ANGULARFIRE2_VERSION");function To(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var xr=(t,e)=>{let n=e?[e]:Eo(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},_i=class{constructor(){return xr(Cb)}},Cb="app-check";function gi(){}var bo=class{zone;delegate;constructor(e,n=Cf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Xu=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gi,{},gi,gi)),n.pipe(oe({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},yi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bo(Zone.current)),this.insideAngular=n.run(()=>new bo(Zone.current,Af)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(I(q))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ao(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Sb(t){return Ao().ngZone.runOutsideAngular(()=>t())}function En(t){return Ao().ngZone.run(()=>t())}function Db(t){return Rb(Ao())(t)}function Rb(t){return function(n){return n=n.lift(new Xu(t.ngZone)),n.pipe(yc(t.outsideAngular),_c(t.insideAngular))}}var Pb=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),En(()=>t.apply(void 0,i))},at=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=En(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gi,{},gi,gi))),i[s]=Pb(i[s],n));let r=Sb(()=>t.apply(this,i));if(!e)if(r instanceof Zi){let s=Ao();return r.pipe(yc(s.outsideAngular),_c(s.insideAngular))}else return En(()=>r);return r instanceof Zi?r.pipe(Db):r instanceof Promise?En(()=>new Promise((s,o)=>r.then(a=>En(()=>s(a)),a=>En(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:En(()=>r)};var At=class{constructor(e){return e}},Tn=class{constructor(){return Eo()}};function kb(t){return t&&t.length===1?t[0]:new At(mi())}var Zu=new L("angularfire2._apps"),Nb={provide:At,useFactory:kb,deps:[[new Me,Zu]]},Mb={provide:Tn,deps:[[new Me,Zu]]};function xb(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new At(i)}}var Ob=(()=>{class t{constructor(n){ce("angularfire",bn.full,"core"),ce("angularfire",bn.full,"app"),ce("angular",Kf.full,n.toString())}static \u0275fac=function(i){return new(i||t)(I(It))};static \u0275mod=te({type:t});static \u0275inj=ee({providers:[Nb,Mb]})}return t})();function Em(t,...e){return{ngModule:Ob,providers:[{provide:Zu,useFactory:xb(t),multi:!0,deps:[q,wt,yi,...e]}]}}var bm=at(Ju,!0);function jm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Bm=jm,$m=new Tt("auth","Firebase",jm());var ko=new Gt("@firebase/auth");function Vb(t,...e){ko.logLevel<=x.WARN&&ko.warn(`Auth (${Kt}): ${t}`,...e)}function So(t,...e){ko.logLevel<=x.ERROR&&ko.error(`Auth (${Kt}): ${t}`,...e)}function ut(t,...e){throw El(t,...e)}function An(t,...e){return El(t,...e)}function qm(t,e,n){let i=Object.assign(Object.assign({},Bm()),{[e]:n});return new Tt("auth","Firebase",i).create(e,{appName:t.name})}function Dt(t){return qm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function El(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return $m.create(t,...e)}function E(t,e,...n){if(!t)throw El(e,...n)}function Ct(t){let e="INTERNAL ASSERTION FAILED: "+t;throw So(e),new Error(e)}function Yt(t,e){t||Ct(e)}function il(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Fb(){return Tm()==="http:"||Tm()==="https:"}function Tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Lb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fb()||tm()||"connection"in navigator)?navigator.onLine:!0}function Ub(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Cn=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yt(n>e,"Short delay should be less than long delay!"),this.isMobile=em()||nm()}get(){return Lb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bl(t,e){Yt(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var No=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var jb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Bb=new Cn(3e4,6e4);function Jt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xt(s,o,a,c){return h(this,arguments,function*(t,e,n,i,r={}){return zm(t,r,()=>h(this,null,function*(){let u={},l={};i&&(e==="GET"?l=i:u={body:JSON.stringify(i)});let d=Pr(Object.assign({key:t.config.apiKey},l)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),No.fetch()(Gm(t,t.config.apiHost,n,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function zm(t,e,n){return h(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},jb),e);try{let r=new rl(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Co(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Co(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Co(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Co(t,"user-disabled",o);let l=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qm(t,l,u);ut(t,l)}}catch(r){if(r instanceof Le)throw r;ut(t,"network-request-failed",{message:String(r)})}})}function $r(s,o,a,c){return h(this,arguments,function*(t,e,n,i,r={}){let u=yield Xt(t,e,n,i,r);return"mfaPendingCredential"in u&&ut(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Gm(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?bl(t.config,r):`${t.config.apiScheme}://${r}`}function $b(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var rl=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(An(this.auth,"network-request-failed")),Bb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Co(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=An(t,e,i);return r.customData._tokenResponse=n,r}function Am(t){return t!==void 0&&t.enterprise!==void 0}var sl=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $b(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function qb(t,e){return h(this,null,function*(){return Xt(t,"GET","/v2/recaptchaConfig",Jt(t,e))})}function zb(t,e){return h(this,null,function*(){return Xt(t,"POST","/v1/accounts:delete",e)})}function Hm(t,e){return h(this,null,function*(){return Xt(t,"POST","/v1/accounts:lookup",e)})}function Or(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tl(t,e=!1){return h(this,null,function*(){let n=xe(t),i=yield n.getIdToken(e),r=Al(i);E(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Or(el(r.auth_time)),issuedAtTime:Or(el(r.iat)),expirationTime:Or(el(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function el(t){return Number(t)*1e3}function Al(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return So("JWT malformed, contained fewer than 3 sections"),null;try{let r=Nu(n);return r?JSON.parse(r):(So("Failed to decode base64 JWT payload"),null)}catch(r){return So("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Cm(t){let e=Al(t);return E(e,"internal-error"),E(typeof e.exp<"u","internal-error"),E(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fr(t,e,n=!1){return h(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Le&&Gb(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Gb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ol=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>h(this,null,function*(){yield this.iteration()}),n)}iteration(){return h(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lr=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Mo(t){return h(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Fr(t,Hm(n,{idToken:i}));E(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Wm(s.providerUserInfo):[],a=Hb(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lr(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Cl(t){return h(this,null,function*(){let e=xe(t);yield Mo(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Hb(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Wm(t){return t.map(e=>{var{providerId:n}=e,i=gc(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Wb(t,e){return h(this,null,function*(){let n=yield zm(t,{},()=>h(this,null,function*(){let i=Pr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Gm(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",No.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Kb(t,e){return h(this,null,function*(){return Xt(t,"POST","/v2/accounts:revokeToken",Jt(t,e))})}var Vr=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){E(e.idToken,"internal-error"),E(typeof e.idToken<"u","internal-error"),E(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){E(e.length!==0,"internal-error");let n=Cm(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return h(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(E(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return h(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Wb(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(E(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(E(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(E(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ct("not implemented")}};function Qt(t,e){E(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var vi=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=gc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ol(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return h(this,null,function*(){let n=yield Fr(this,this.stsTokenManager.getToken(this.auth,e));return E(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Tl(this,e)}reload(){return Cl(this)}_assign(e){this!==e&&(E(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){E(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return h(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Mo(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return h(this,null,function*(){if(Ze(this.auth.app))return Promise.reject(Dt(this.auth));let e=yield this.getIdToken();return yield Fr(this,zb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,l;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,B=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Z=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:$e,emailVerified:nt,isAnonymous:Yi,providerData:un,stsTokenManager:Ji}=n;E($e&&Ji,e,"internal-error");let bf=Vr.fromJSON(this.name,Ji);E(typeof $e=="string",e,"internal-error"),Qt(d,e.name),Qt(f,e.name),E(typeof nt=="boolean",e,"internal-error"),E(typeof Yi=="boolean",e,"internal-error"),Qt(m,e.name),Qt(b,e.name),Qt(D,e.name),Qt(R,e.name),Qt(B,e.name),Qt(Z,e.name);let Xi=new t({uid:$e,auth:e,email:f,emailVerified:nt,displayName:d,isAnonymous:Yi,photoURL:b,phoneNumber:m,tenantId:D,stsTokenManager:bf,createdAt:B,lastLoginAt:Z});return un&&Array.isArray(un)&&(Xi.providerData=un.map(xs=>Object.assign({},xs))),R&&(Xi._redirectEventId=R),Xi}static _fromIdTokenResponse(e,n,i=!1){return h(this,null,function*(){let r=new Vr;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Mo(s),s})}static _fromGetAccountInfoResponse(e,n,i){return h(this,null,function*(){let r=n.users[0];E(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Wm(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Vr;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Lr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var Sm=new Map;function St(t){Yt(t instanceof Function,"Expected a class definition");let e=Sm.get(t);return e?(Yt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sm.set(t,e),e)}var Qb=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return h(this,null,function*(){return!0})}_set(n,i){return h(this,null,function*(){this.storage[n]=i})}_get(n){return h(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return h(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),al=Qb;function Do(t,e,n){return`firebase:${t}:${e}:${n}`}var xo=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Do(this.userKey,r.apiKey,s),this.fullPersistenceKey=Do("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return h(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return h(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return h(this,null,function*(){if(!n.length)return new t(St(al),e,i);let r=(yield Promise.all(n.map(u=>h(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||St(al),o=Do(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=vi._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>h(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function Dm(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ym(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Km(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xm(e))return"Blackberry";if(Zm(e))return"Webos";if(Sl(e))return"Safari";if((e.includes("chrome/")||Qm(e))&&!e.includes("edge/"))return"Chrome";if(Jm(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Km(t=ae()){return/firefox\//i.test(t)}function Sl(t=ae()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qm(t=ae()){return/crios\//i.test(t)}function Ym(t=ae()){return/iemobile/i.test(t)}function Jm(t=ae()){return/android/i.test(t)}function Xm(t=ae()){return/blackberry/i.test(t)}function Zm(t=ae()){return/webos/i.test(t)}function $o(t=ae()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yb(t=ae()){var e;return $o(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Jb(){return im()&&document.documentMode===10}function eg(t=ae()){return $o(t)||Jm(t)||Zm(t)||Xm(t)||/windows phone/i.test(t)||Ym(t)}function Xb(){try{return!!(window&&window!==window.top)}catch{return!1}}function tg(t,e=[]){let n;switch(t){case"Browser":n=Dm(ae());break;case"Worker":n=`${Dm(ae())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kt}/${i}`}var cl=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return h(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Zb(n){return h(this,arguments,function*(t,e={}){return Xt(t,"GET","/v2/passwordPolicy",Jt(t,e))})}var e0=6,ul=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:e0,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ll=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oo(this),this.idTokenSubscription=new Oo(this),this.beforeStateQueue=new cl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=St(n)),this._initializationPromise=this.queue(()=>h(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield xo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return h(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return h(this,null,function*(){try{let n=yield Hm(this,{idToken:e}),i=yield vi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return h(this,null,function*(){var n;if(Ze(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return E(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return h(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return h(this,null,function*(){try{yield Mo(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ub()}_delete(){return h(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return h(this,null,function*(){if(Ze(this.app))return Promise.reject(Dt(this));let n=e?xe(e):null;return n&&E(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return h(this,null,function*(){if(!this._deleted)return e&&E(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>h(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return h(this,null,function*(){return Ze(this.app)?Promise.reject(Dt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ze(this.app)?Promise.reject(Dt(this)):this.queue(()=>h(this,null,function*(){yield this.assertedPersistence.setPersistence(St(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return h(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return h(this,null,function*(){let e=yield Zb(this),n=new ul(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tt("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return h(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Kb(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return h(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return h(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&St(e)||this._popupRedirectResolver;E(n,this,"argument-error"),this.redirectPersistenceManager=yield xo.create(this,[St(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return h(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>h(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return h(this,null,function*(){if(e===this.currentUser)return this.queue(()=>h(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(E(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return h(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return E(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return h(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return h(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Vb(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Dn(t){return xe(t)}var Oo=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=am(n=>this.observer=n)}get next(){return E(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qo={loadJS(){return h(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t0(t){qo=t}function ng(t){return qo.loadJS(t)}function n0(){return qo.recaptchaEnterpriseScript}function i0(){return qo.gapiScript}function ig(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var r0="recaptcha-enterprise",s0="NO_RECAPTCHA",hl=class{constructor(e){this.type=r0,this.auth=Dn(e)}verify(e="verify",n=!1){return h(this,null,function*(){function i(s){return h(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>h(this,null,function*(){qb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new sl(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;Am(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(s0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Am(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=n0();c.length!==0&&(c+=a),ng(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function Rm(t,e,n,i=!1){return h(this,null,function*(){let r=new hl(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function dl(t,e,n,i){return h(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Rm(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>h(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Rm(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function Dl(t,e){let n=Mr(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(vn(s,e??{}))return r;ut(r,"already-initialized")}return n.initialize({options:e})}function o0(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(St);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Rl(t,e,n){let i=Dn(t);E(i._canInitEmulator,i,"emulator-config-failed"),E(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=rg(e),{host:o,port:a}=a0(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||c0()}function rg(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a0(t){let e=rg(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Pm(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:Pm(o)}}}function Pm(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function c0(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ur=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ct("not implemented")}_getIdTokenResponse(e){return Ct("not implemented")}_linkToIdToken(e,n){return Ct("not implemented")}_getReauthenticationResolver(e){return Ct("not implemented")}};function u0(t,e){return h(this,null,function*(){return Xt(t,"POST","/v1/accounts:signUp",e)})}function l0(t,e){return h(this,null,function*(){return $r(t,"POST","/v1/accounts:signInWithPassword",Jt(t,e))})}function h0(t,e){return h(this,null,function*(){return $r(t,"POST","/v1/accounts:signInWithEmailLink",Jt(t,e))})}function d0(t,e){return h(this,null,function*(){return $r(t,"POST","/v1/accounts:signInWithEmailLink",Jt(t,e))})}var jr=class t extends Ur{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return h(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dl(e,n,"signInWithPassword",l0);case"emailLink":return h0(e,{email:this._email,oobCode:this._password});default:ut(e,"internal-error")}})}_linkToIdToken(e,n){return h(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dl(e,i,"signUpPassword",u0);case"emailLink":return d0(e,{idToken:n,email:this._email,oobCode:this._password});default:ut(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function tl(t,e){return h(this,null,function*(){return $r(t,"POST","/v1/accounts:signInWithIdp",Jt(t,e))})}function f0(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p0(t){let e=fi(pi(t)).link,n=e?fi(pi(e)).deep_link_id:null,i=fi(pi(t)).deep_link_id;return(i?fi(pi(i)).link:null)||i||n||e||t}var Vo=class t{constructor(e){var n,i,r,s,o,a;let c=fi(pi(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(i=c.oobCode)!==null&&i!==void 0?i:null,d=f0((r=c.mode)!==null&&r!==void 0?r:null);E(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=p0(e);try{return new t(n)}catch{return null}}};var sg=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return jr._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Vo.parseLink(i);return E(r,"argument-error"),jr._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Fo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fl=class extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function m0(t,e){return h(this,null,function*(){return $r(t,"POST","/v1/accounts:signUp",Jt(t,e))})}var wi=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return h(this,null,function*(){let s=yield vi._fromIdTokenResponse(e,i,r),o=km(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return h(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=km(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function km(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var pl=class t extends Le{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function og(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pl._fromErrorAndOperation(t,s,e,i):s})}function g0(t,e,n=!1){return h(this,null,function*(){let i=yield Fr(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return wi._forOperation(t,"link",i)})}function _0(t,e,n=!1){return h(this,null,function*(){let{auth:i}=t;if(Ze(i.app))return Promise.reject(Dt(i));let r="reauthenticate";try{let s=yield Fr(t,og(i,r,e,t),n);E(s.idToken,i,"internal-error");let o=Al(s.idToken);E(o,i,"internal-error");let{sub:a}=o;return E(t.uid===a,i,"user-mismatch"),wi._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ut(i,"user-mismatch"),s}})}function ag(t,e,n=!1){return h(this,null,function*(){if(Ze(t.app))return Promise.reject(Dt(t));let i="signIn",r=yield og(t,i,e),s=yield wi._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Pl(t,e){return h(this,null,function*(){return ag(Dn(t),e)})}function cg(t){return h(this,null,function*(){let e=Dn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function kl(t,e,n){return h(this,null,function*(){if(Ze(t.app))return Promise.reject(Dt(t));let i=Dn(t),o=yield dl(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m0).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cg(t),c}),a=yield wi._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function Nl(t,e,n){return Ze(t.app)?Promise.reject(Dt(t)):Pl(xe(t),sg.credential(e,n)).catch(i=>h(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&cg(t),i}))}function Ml(t,e,n,i){return xe(t).onIdTokenChanged(e,n,i)}function xl(t,e,n){return xe(t).beforeAuthStateChanged(e,n)}var Lo="__sak";var Uo=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lo,"1"),this.storage.removeItem(Lo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function y0(){let t=ae();return Sl(t)||$o(t)}var v0=1e3,w0=10,I0=(()=>{class t extends Uo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=y0()&&Xb(),this.fallbackToPolling=eg(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Jb()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,w0):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},v0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return h(this,null,function*(){yield Ot(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return h(this,null,function*(){let i=yield Ot(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return h(this,null,function*(){yield Ot(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ug=I0;var E0=(()=>{class t extends Uo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Ol=E0;function b0(t){return Promise.all(t.map(e=>h(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var T0=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return h(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(l=>h(this,null,function*(){return l(i.origin,o)})),u=yield b0(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function lg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var ml=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return h(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=lg("",20);r.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){let f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ct(){return window}function A0(t){ct().location.href=t}function hg(){return typeof ct().WorkerGlobalScope<"u"&&typeof ct().importScripts=="function"}function C0(){return h(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function S0(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D0(){return hg()?self:null}var dg="firebaseLocalStorageDb",R0=1,jo="firebaseLocalStorage",fg="fbase_key",Sn=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function zo(t,e){return t.transaction([jo],e?"readwrite":"readonly").objectStore(jo)}function P0(){let t=indexedDB.deleteDatabase(dg);return new Sn(t).toPromise()}function gl(){let t=indexedDB.open(dg,R0);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(jo,{keyPath:fg})}catch(r){n(r)}}),t.addEventListener("success",()=>h(this,null,function*(){let i=t.result;i.objectStoreNames.contains(jo)?e(i):(i.close(),yield P0(),e(yield gl()))}))})}function Nm(t,e,n){return h(this,null,function*(){let i=zo(t,!0).put({[fg]:e,value:n});return new Sn(i).toPromise()})}function k0(t,e){return h(this,null,function*(){let n=zo(t,!1).get(e),i=yield new Sn(n).toPromise();return i===void 0?null:i.value})}function Mm(t,e){let n=zo(t,!0).delete(e);return new Sn(n).toPromise()}var N0=800,M0=3,x0=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return h(this,null,function*(){return this.db?this.db:(this.db=yield gl(),this.db)})}_withRetries(n){return h(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>M0)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return h(this,null,function*(){return hg()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return h(this,null,function*(){this.receiver=T0._getInstance(D0()),this.receiver._subscribe("keyChanged",(n,i)=>h(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>h(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return h(this,null,function*(){var n,i;if(this.activeServiceWorker=yield C0(),!this.activeServiceWorker)return;this.sender=new ml(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return h(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||S0()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return h(this,null,function*(){try{if(!indexedDB)return!1;let n=yield gl();return yield Nm(n,Lo,"1"),yield Mm(n,Lo),!0}catch{}return!1})}_withPendingWrite(n){return h(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(r=>Nm(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return h(this,null,function*(){let i=yield this._withRetries(r=>k0(r,n));return this.localCache[n]=i,i})}_remove(n){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(i=>Mm(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return h(this,null,function*(){let n=yield this._withRetries(s=>{let o=zo(s,!1).getAll();return new Sn(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>h(this,null,function*(){return this._poll()}),N0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),pg=x0;var YP=ig("rcb"),JP=new Cn(3e4,6e4);function O0(t,e){return e?St(e):(E(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Br=class extends Ur{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function V0(t){return ag(t.auth,new Br(t),t.bypassAuthState)}function F0(t){let{auth:e,user:n}=t;return E(n,e,"internal-error"),_0(n,new Br(t),t.bypassAuthState)}function L0(t){return h(this,null,function*(){let{auth:e,user:n}=t;return E(n,e,"internal-error"),g0(n,new Br(t),t.bypassAuthState)})}var _l=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>h(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return h(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V0;case"linkViaPopup":case"linkViaRedirect":return L0;case"reauthViaPopup":case"reauthViaRedirect":return F0;default:ut(this.auth,"internal-error")}}resolve(e){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var XP=new Cn(2e3,1e4);var U0="pendingRedirect",Ro=new Map,yl=class t extends _l{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return h(this,null,function*(){let e=Ro.get(this.auth._key());if(!e){try{let i=(yield j0(this.resolver,this.auth))?yield Ot(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ro.set(this.auth._key(),e)}return this.bypassAuthState||Ro.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return h(this,null,function*(){if(e.type==="signInViaRedirect")return Ot(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ot(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return h(this,null,function*(){})}cleanUp(){}};function j0(t,e){return h(this,null,function*(){let n=q0(e),i=$0(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function B0(t,e){Ro.set(t._key(),e)}function $0(t){return St(t._redirectPersistence)}function q0(t){return Do(U0,t.config.apiKey,t.name)}function z0(t,e,n=!1){return h(this,null,function*(){if(Ze(t.app))return Promise.reject(Dt(t));let i=Dn(t),r=O0(i,e),o=yield new yl(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var G0=10*60*1e3,vl=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H0(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!mg(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(An(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G0&&this.cachedEventUids.clear(),this.cachedEventUids.has(xm(e))}saveEventToCache(e){this.cachedEventUids.add(xm(e)),this.lastProcessedEventTime=Date.now()}};function xm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mg({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function H0(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mg(t);default:return!1}}function W0(n){return h(this,arguments,function*(t,e={}){return Xt(t,"GET","/v1/projects",e)})}var K0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q0=/^https?/;function Y0(t){return h(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield W0(t);for(let n of e)try{if(J0(n))return}catch{}ut(t,"unauthorized-domain")})}function J0(t){let e=il(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Q0.test(n))return!1;if(K0.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var X0=new Cn(3e4,6e4);function Om(){let t=ct().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z0(t){return new Promise((e,n)=>{var i,r,s;function o(){Om(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Om(),n(An(t,"network-request-failed"))},timeout:X0.get()})}if(!((r=(i=ct().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ct().gapi)===null||s===void 0)&&s.load)o();else{let a=ig("iframefcb");return ct()[a]=()=>{gapi.load?o():n(An(t,"network-request-failed"))},ng(`${i0()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Po=null,e})}var Po=null;function eT(t){return Po=Po||Z0(t),Po}var tT=new Cn(5e3,15e3),nT="__/auth/iframe",iT="emulator/auth/iframe",rT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oT(t){let e=t.config;E(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?bl(e,iT):`https://${t.config.authDomain}/${nT}`,i={apiKey:e.apiKey,appName:t.name,v:Kt},r=sT.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Pr(i).slice(1)}`}function aT(t){return h(this,null,function*(){let e=yield eT(t),n=ct().gapi;return E(n,t,"internal-error"),e.open({where:document.body,url:oT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rT,dontclear:!0},i=>new Promise((r,s)=>h(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=An(t,"network-request-failed"),a=ct().setTimeout(()=>{s(o)},tT.get());function c(){ct().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var cT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uT=500,lT=600,hT="_blank",dT="http://localhost",Bo=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fT(t,e,n,i=uT,r=lT){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},cT),{width:i.toString(),height:r.toString(),top:s,left:o}),u=ae().toLowerCase();n&&(a=Qm(u)?hT:n),Km(u)&&(e=e||dT,c.scrollbars="yes");let l=Object.entries(c).reduce((f,[m,b])=>`${f}${m}=${b},`,"");if(Yb(u)&&a!=="_self")return pT(e||"",a),new Bo(null);let d=window.open(e||"",a,l);E(d,t,"popup-blocked");try{d.focus()}catch{}return new Bo(d)}function pT(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var mT="__/auth/handler",gT="emulator/auth/handler",_T=encodeURIComponent("fac");function Vm(t,e,n,i,r,s){return h(this,null,function*(){E(t.config.authDomain,t,"auth-domain-config-required"),E(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Kt,eventId:r};if(e instanceof Fo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",om(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof fl){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${_T}=${encodeURIComponent(c)}`:"";return`${yT(t)}?${Pr(a).slice(1)}${u}`})}function yT({config:t}){return t.emulator?bl(t,gT):`https://${t.authDomain}/${mT}`}var nl="webStorageSupport",wl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ol,this._completeRedirectFn=z0,this._overrideRedirectResult=B0}_openPopup(e,n,i,r){return h(this,null,function*(){var s;Yt((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Vm(e,n,i,il(),r);return fT(e,o,lg())})}_openRedirect(e,n,i,r){return h(this,null,function*(){yield this._originValidation(e);let s=yield Vm(e,n,i,il(),r);return A0(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Yt(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return h(this,null,function*(){let n=yield aT(e),i=new vl(e);return n.register("authEvent",r=>(E(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nl,{type:nl},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[nl];o!==void 0&&n(!!o),ut(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y0(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eg()||Sl()||$o()}},gg=wl;var Fm="@firebase/auth",Lm="1.7.2";var Il=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return h(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){E(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wT(t){Wt(new Ke("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;E(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tg(t)},u=new ll(i,r,s,c);return o0(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Wt(new Ke("auth-internal",e=>{let n=Dn(e.getProvider("auth").getImmediate());return(i=>new Il(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ce(Fm,Lm,vT(t)),ce(Fm,Lm,"esm2017")}var IT=5*60,ET=Ou("authIdTokenMaxAge")||IT,Um=null,bT=t=>e=>h(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ET)return;let r=n?.token;Um!==r&&(Um=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Vl(t=mi()){let e=Mr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Dl(t,{popupRedirectResolver:gg,persistence:[pg,ug,Ol]}),i=Ou("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=bT(s.toString());xl(n,o,()=>o(n.currentUser)),Ml(n,a=>o(a))}}let r=Mu("auth");return r&&Rl(n,`http://${r}`),n}function TT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t0({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=An("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",TT().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wT("Browser");var _g="auth",Rt=class{constructor(e){return e}},qr=class{constructor(){return xr(_g)}};var Fl=new L("angularfire2.auth-instances");function mA(t,e){let n=To(_g,t,e);return n&&new Rt(n)}function gA(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Rt(i)}}var _A={provide:qr,deps:[[new Me,Fl]]},yA={provide:Rt,useFactory:mA,deps:[[new Me,Fl],At]},vA=(()=>{class t{constructor(){ce("angularfire",bn.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=ee({providers:[yA,_A]})}return t})();function yg(t,...e){return{ngModule:vA,providers:[{provide:Fl,useFactory:gA(t),multi:!0,deps:[q,wt,yi,Tn,[new Me,_i],...e]}]}}var vg=at(kl,!0);var wg=at(Vl,!0);var Ig=at(Nl,!0);var wA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tt={},_,sh=sh||{},A=wA||self;function ra(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function is(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function IA(t){return Object.prototype.hasOwnProperty.call(t,Ll)&&t[Ll]||(t[Ll]=++EA)}var Ll="closure_uid_"+(1e9*Math.random()>>>0),EA=0;function bA(t,e,n){return t.call.apply(t.bind,arguments)}function TA(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function be(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?be=bA:be=TA,be.apply(null,arguments)}function Go(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function fe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Zt(){this.s=this.s,this.o=this.o}var AA=0;Zt.prototype.s=!1;Zt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),AA!=0)&&IA(this)};Zt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Og=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oh(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function bg(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(ra(i)){let r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function Te(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var CA=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};A.addEventListener("test",n,e),A.removeEventListener("test",n,e)}catch{}return t}();function Qr(t){return/^[\s\xa0]*$/.test(t)}function sa(){var t=A.navigator;return t&&(t=t.userAgent)?t:""}function lt(t){return sa().indexOf(t)!=-1}function ah(t){return ah[" "](t),t}ah[" "]=function(){};function SA(t,e){var n=mC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var DA=lt("Opera"),Ti=lt("Trident")||lt("MSIE"),Vg=lt("Edge"),ql=Vg||Ti,Fg=lt("Gecko")&&!(sa().toLowerCase().indexOf("webkit")!=-1&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),RA=sa().toLowerCase().indexOf("webkit")!=-1&&!lt("Edge");function Lg(){var t=A.document;return t?t.documentMode:void 0}var zl;e:{if(Ho="",Wo=function(){var t=sa();if(Fg)return/rv:([^\);]+)(\)|;)/.exec(t);if(Vg)return/Edge\/([\d\.]+)/.exec(t);if(Ti)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(RA)return/WebKit\/(\S+)/.exec(t);if(DA)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Wo&&(Ho=Wo?Wo[1]:""),Ti&&(Ko=Lg(),Ko!=null&&Ko>parseFloat(Ho))){zl=String(Ko);break e}zl=Ho}var Ho,Wo,Ko,Gl;A.document&&Ti?(Ul=Lg(),Gl=Ul||parseInt(zl,10)||void 0):Gl=void 0;var Ul,PA=Gl;function Yr(t,e){if(Te.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Fg){e:{try{ah(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kA[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yr.$.h.call(this)}}fe(Yr,Te);var kA={2:"touch",3:"pen",4:"mouse"};Yr.prototype.h=function(){Yr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rs="closure_listenable_"+(1e6*Math.random()|0),NA=0;function MA(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++NA,this.fa=this.ia=!1}function oa(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ch(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function xA(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function Ug(t){let e={};for(let n in t)e[n]=t[n];return e}var Tg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jg(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<Tg.length;s++)n=Tg[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function aa(t){this.src=t,this.g={},this.h=0}aa.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Wl(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new MA(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function Hl(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=Og(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(oa(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wl(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var uh="closure_lm_"+(1e6*Math.random()|0),jl={};function Bg(t,e,n,i,r){if(i&&i.once)return qg(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Bg(t,e[s],n,i,r);return null}return n=dh(n),t&&t[rs]?t.O(e,n,is(i)?!!i.capture:!!i,r):$g(t,e,n,!1,i,r)}function $g(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=is(r)?!!r.capture:!!r,a=hh(t);if(a||(t[uh]=a=new aa(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=OA(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)CA||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Gg(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OA(){function t(n){return e.call(t.src,t.listener,n)}let e=VA;return t}function qg(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qg(t,e[s],n,i,r);return null}return n=dh(n),t&&t[rs]?t.P(e,n,is(i)?!!i.capture:!!i,r):$g(t,e,n,!0,i,r)}function zg(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)zg(t,e[s],n,i,r);else i=is(i)?!!i.capture:!!i,n=dh(n),t&&t[rs]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Wl(s,n,i,r),-1<n&&(oa(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=hh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wl(e,n,i,r)),(n=-1<t?e[t]:null)&&lh(n))}function lh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rs])Hl(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Gg(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=hh(e))?(Hl(n,t),n.h==0&&(n.src=null,e[uh]=null)):oa(t)}}}function Gg(t){return t in jl?jl[t]:jl[t]="on"+t}function VA(t,e){if(t.fa)t=!0;else{e=new Yr(e,this);var n=t.listener,i=t.la||t.src;t.ia&&lh(t),t=n.call(i,e)}return t}function hh(t){return t=t[uh],t instanceof aa?t:null}var Bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function dh(t){return typeof t=="function"?t:(t[Bl]||(t[Bl]=function(e){return t.handleEvent(e)}),t[Bl])}function de(){Zt.call(this),this.i=new aa(this),this.S=this,this.J=null}fe(de,Zt);de.prototype[rs]=!0;de.prototype.removeEventListener=function(t,e,n,i){zg(this,t,e,n,i)};function ve(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Te(e,t);else if(e instanceof Te)e.target=e.target||t;else{var r=e;e=new Te(i,t),jg(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Qo(o,i,!0,e)&&r}if(o=e.g=t,r=Qo(o,i,!0,e)&&r,r=Qo(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Qo(o,i,!1,e)&&r}de.prototype.N=function(){if(de.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)oa(n[i]);delete t.g[e],t.h--}}this.J=null};de.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};de.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Qo(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Hl(t.i,o),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var fh=A.JSON.stringify,Kl=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function FA(){var t=ph;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ql=class{constructor(){this.h=this.g=null}add(e,n){let i=Hg.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},Hg=new Kl(()=>new Yl,t=>t.reset()),Yl=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function LA(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function UA(t){A.setTimeout(()=>{throw t},0)}var Jr,Xr=!1,ph=new Ql,Wg=()=>{let t=A.Promise.resolve(void 0);Jr=()=>{t.then(jA)}},jA=()=>{for(var t;t=FA();){try{t.h.call(t.g)}catch(n){UA(n)}var e=Hg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xr=!1};function ca(t,e){de.call(this),this.h=t||1,this.g=e||A,this.j=be(this.qb,this),this.l=Date.now()}fe(ca,de);_=ca.prototype;_.ga=!1;_.T=null;_.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(mh(this),this.start()))}};_.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function mh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}_.N=function(){ca.$.N.call(this),mh(this),delete this.g};function gh(t,e,n){if(typeof t=="function")n&&(t=be(t,n));else if(t&&typeof t.handleEvent=="function")t=be(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}function Kg(t){t.g=gh(()=>{t.g=null,t.i&&(t.i=!1,Kg(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Jl=class extends Zt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kg(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Zr(t){Zt.call(this),this.h=t,this.g={}}fe(Zr,Zt);var Ag=[];function Qg(t,e,n,i){Array.isArray(n)||(n&&(Ag[0]=n.toString()),n=Ag);for(var r=0;r<n.length;r++){var s=Bg(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Yg(t){ch(t.g,function(e,n){this.g.hasOwnProperty(n)&&lh(e)},t),t.g={}}Zr.prototype.N=function(){Zr.$.N.call(this),Yg(this)};Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ua(){this.g=!0}ua.prototype.Ea=function(){this.g=!1};function BA(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function $A(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Ei(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zA(t,n)+(i?" "+i:"")})}function qA(t,e){t.info(function(){return"TIMEOUT: "+e})}ua.prototype.info=function(){};function zA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return fh(n)}catch{return e}}var Nn={},Cg=null;function la(){return Cg=Cg||new de}Nn.Ta="serverreachability";function Jg(t){Te.call(this,Nn.Ta,t)}fe(Jg,Te);function es(t){let e=la();ve(e,new Jg(e))}Nn.STAT_EVENT="statevent";function Xg(t,e){Te.call(this,Nn.STAT_EVENT,t),this.stat=e}fe(Xg,Te);function Pe(t){let e=la();ve(e,new Xg(e,t))}Nn.Ua="timingevent";function Zg(t,e){Te.call(this,Nn.Ua,t),this.size=e}fe(Zg,Te);function ss(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){t()},e)}var ha={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},e_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _h(){}_h.prototype.h=null;function Sg(t){return t.h||(t.h=t.i())}function t_(){}var os={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yh(){Te.call(this,"d")}fe(yh,Te);function vh(){Te.call(this,"c")}fe(vh,Te);var Xl;function da(){}fe(da,_h);da.prototype.g=function(){return new XMLHttpRequest};da.prototype.i=function(){return{}};Xl=new da;function as(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Zr(this),this.P=GA,t=ql?125:void 0,this.V=new ca(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new n_}function n_(){this.i=null,this.g="",this.h=!1}var GA=45e3,i_={},Zl={};_=as.prototype;_.setTimeout=function(t){this.P=t};function eh(t,e,n){t.L=1,t.A=pa(kt(e)),t.u=n,t.S=!0,r_(t,null)}function r_(t,e){t.G=Date.now(),cs(t),t.B=kt(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),d_(n.i,"t",i),t.o=0,n=t.l.J,t.h=new n_,t.g=M_(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Jl(be(t.Pa,t,t.g),t.O)),Qg(t.U,t.g,"readystatechange",t.nb),e=t.I?Ug(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),es(),BA(t.j,t.v,t.B,t.m,t.W,t.u)}_.nb=function(t){t=t.target;let e=this.M;e&&ht(t)==3?e.l():this.Pa(t)};_.Pa=function(t){try{if(t==this.g)e:{let l=ht(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||ql||this.g&&(this.h.h||this.g.ja()||kg(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?es(3):es(2)),fa(this);var n=this.g.da();this.ca=n;t:if(s_(this)){var i=kg(this.g);t="";var r=i.length,s=ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Kr(this);var o="";break t}this.h.i=new A.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,$A(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qr(a)){var u=a;break t}}u=null}if(n=u)Ei(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,th(this,n);else{this.i=!1,this.s=3,Pe(12),Rn(this),Kr(this);break e}}this.S?(o_(this,l,o),ql&&this.i&&l==3&&(Qg(this.U,this.V,"tick",this.mb),this.V.start())):(Ei(this.j,this.m,o,null),th(this,o)),l==4&&Rn(this),this.i&&!this.J&&(l==4?R_(this.l,this):(this.i=!1,cs(this)))}else dC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),Rn(this),Kr(this)}}}catch{}finally{}};function s_(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function o_(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=HA(t,n),r==Zl){e==4&&(t.s=4,Pe(14),i=!1),Ei(t.j,t.m,null,"[Incomplete Response]");break}else if(r==i_){t.s=4,Pe(15),Ei(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ei(t.j,t.m,r,null),th(t,r);s_(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pe(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ah(e),e.M=!0,Pe(11))):(Ei(t.j,t.m,n,"[Invalid Chunked Response]"),Rn(t),Kr(t))}_.mb=function(){if(this.g){var t=ht(this.g),e=this.g.ja();this.o<e.length&&(fa(this),o_(this,t,e),this.i&&t!=4&&cs(this))}};function HA(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Zl:(n=Number(e.substring(n,i)),isNaN(n)?i_:(i+=1,i+n>e.length?Zl:(e=e.slice(i,i+n),t.o=i+n,e)))}_.cancel=function(){this.J=!0,Rn(this)};function cs(t){t.Y=Date.now()+t.P,a_(t,t.P)}function a_(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ss(be(t.lb,t),e)}function fa(t){t.C&&(A.clearTimeout(t.C),t.C=null)}_.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(qA(this.j,this.B),this.L!=2&&(es(),Pe(17)),Rn(this),this.s=2,Kr(this)):a_(this,this.Y-t)};function Kr(t){t.l.H==0||t.J||R_(t.l,t)}function Rn(t){fa(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,mh(t.V),Yg(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function th(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||nh(n.i,t))){if(!t.K&&nh(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ea(n),_a(n);else break e;Th(n),Pe(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ss(be(n.ib,n),6e3));if(1>=m_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pn(n,11)}else if((t.K||n.g==t)&&ea(n),!Qr(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let m=t.g;if(m){let b=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=i.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(wh(s,s.h),s.h=null))}if(i.F){let D=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(i.Da=D,H(i.I,i.F,D))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=N_(i,i.J?i.pa:null,i.Y),o.K){g_(i.i,o);var a=o,c=i.L;c&&a.setTimeout(c),a.C&&(fa(a),cs(a)),i.g=o}else S_(i);0<n.j.length&&ya(n)}else u[0]!="stop"&&u[0]!="close"||Pn(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Pn(n,7):bh(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}es(4)}catch{}}function WA(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ra(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function KA(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ra(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function c_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ra(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=KA(t),i=WA(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var u_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function kn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof kn){this.h=t.h,Xo(this,t.j),this.s=t.s,this.g=t.g,Zo(this,t.m),this.l=t.l;var e=t.i,n=new ts;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Dg(this,n),this.o=t.o}else t&&(e=String(t).match(u_))?(this.h=!1,Xo(this,e[1]||"",!0),this.s=Hr(e[2]||""),this.g=Hr(e[3]||"",!0),Zo(this,e[4]),this.l=Hr(e[5]||"",!0),Dg(this,e[6]||"",!0),this.o=Hr(e[7]||"")):(this.h=!1,this.i=new ts(null,this.h))}kn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wr(e,Rg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Wr(e,Rg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Wr(n,n.charAt(0)=="/"?XA:JA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wr(n,eC)),t.join("")};function kt(t){return new kn(t)}function Xo(t,e,n){t.j=n?Hr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dg(t,e,n){e instanceof ts?(t.i=e,tC(t.i,t.h)):(n||(e=Wr(e,ZA)),t.i=new ts(e,t.h))}function H(t,e,n){t.i.set(e,n)}function pa(t){return H(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Rg=/[#\/\?@]/g,JA=/[#\?:]/g,XA=/[#\?]/g,ZA=/[#\?@]/g,eC=/#/g;function ts(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function en(t){t.g||(t.g=new Map,t.h=0,t.i&&QA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}_=ts.prototype;_.add=function(t,e){en(this),this.i=null,t=Ai(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function l_(t,e){en(t),e=Ai(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function h_(t,e){return en(t),e=Ai(t,e),t.g.has(e)}_.forEach=function(t,e){en(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};_.ta=function(){en(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};_.Z=function(t){en(this);let e=[];if(typeof t=="string")h_(this,t)&&(e=e.concat(this.g.get(Ai(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};_.set=function(t,e){return en(this),this.i=null,t=Ai(this,t),h_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};_.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function d_(t,e,n){l_(t,e),0<n.length&&(t.i=null,t.g.set(Ai(t,e),oh(n)),t.h+=n.length)}_.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function Ai(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tC(t,e){e&&!t.j&&(en(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(l_(this,i),d_(this,r,n))},t)),t.j=e}var nC=class{constructor(t,e){this.g=t,this.map=e}};function f_(t){this.l=t||iC,A.PerformanceNavigationTiming?(t=A.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(A.g&&A.g.Ka&&A.g.Ka()&&A.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iC=10;function p_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function m_(t){return t.h?1:t.g?t.g.size:0}function nh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wh(t,e){t.g?t.g.add(e):t.h=e}function g_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}f_.prototype.cancel=function(){if(this.i=__(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function __(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return oh(t.i)}var rC=class{stringify(t){return A.JSON.stringify(t,void 0)}parse(t){return A.JSON.parse(t,void 0)}};function sC(){this.g=new rC}function oC(t,e,n){let i=n||"";try{c_(t,function(r,s){let o=r;is(r)&&(o=fh(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function aC(t,e){let n=new ua;if(A.Image){let i=new Image;i.onload=Go(Yo,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Go(Yo,n,i,"TestLoadImage: error",!1,e),i.onabort=Go(Yo,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Go(Yo,n,i,"TestLoadImage: timeout",!1,e),A.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Yo(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function us(t){this.l=t.ec||null,this.j=t.ob||!1}fe(us,_h);us.prototype.g=function(){return new ma(this.l,this.j)};us.prototype.i=function(t){return function(){return t}}({});function ma(t,e){de.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ih,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fe(ma,de);var Ih=0;_=ma.prototype;_.open=function(t,e){if(this.readyState!=Ih)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ns(this)};_.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||A).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};_.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=Ih};_.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;y_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function y_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}_.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ls(this):ns(this),this.readyState==3&&y_(this)}};_.Za=function(t){this.g&&(this.response=this.responseText=t,ls(this))};_.Ya=function(t){this.g&&(this.response=t,ls(this))};_.ka=function(){this.g&&ls(this)};function ls(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ns(t)}_.setRequestHeader=function(t,e){this.v.append(t,e)};_.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};_.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ns(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cC=A.JSON.parse;function J(t){de.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=v_,this.L=this.M=!1}fe(J,de);var v_="",uC=/^https?$/i,lC=["POST","PUT"];_=J.prototype;_.Oa=function(t){this.M=t};_.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xl.g(),this.C=this.u?Sg(this.u):Sg(Xl),this.g.onreadystatechange=be(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Pg(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=A.FormData&&t instanceof A.FormData,!(0<=Og(lC,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{E_(this),0<this.B&&((this.L=hC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=be(this.ua,this)):this.A=gh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Pg(this,s)}};function hC(t){return Ti&&typeof t.timeout=="number"&&t.ontimeout!==void 0}_.ua=function(){typeof sh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))};function Pg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,w_(t),ga(t)}function w_(t){t.F||(t.F=!0,ve(t,"complete"),ve(t,"error"))}_.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ve(this,"complete"),ve(this,"abort"),ga(this))};_.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ga(this,!0)),J.$.N.call(this)};_.La=function(){this.s||(this.G||this.v||this.l?I_(this):this.kb())};_.kb=function(){I_(this)};function I_(t){if(t.h&&typeof sh<"u"&&(!t.C[1]||ht(t)!=4||t.da()!=2)){if(t.v&&ht(t)==4)gh(t.La,0,t);else if(ve(t,"readystatechange"),ht(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(u_)[1]||null;!r&&A.self&&A.self.location&&(r=A.self.location.protocol.slice(0,-1)),i=!uC.test(r?r.toLowerCase():"")}n=i}if(n)ve(t,"complete"),ve(t,"success");else{t.m=6;try{var s=2<ht(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",w_(t)}}finally{ga(t)}}}}function ga(t,e){if(t.g){E_(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ve(t,"ready");try{n.onreadystatechange=i}catch{}}}function E_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(A.clearTimeout(t.A),t.A=null)}_.isActive=function(){return!!this.g};function ht(t){return t.g?t.g.readyState:0}_.da=function(){try{return 2<ht(this)?this.g.status:-1}catch{return-1}};_.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};_.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cC(e)}};function kg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case v_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dC(t){let e={};t=(t.g&&2<=ht(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Qr(t[i]))continue;var n=LA(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[r]||[];e[r]=s,s.push(n)}xA(e,function(i){return i.join(", ")})}_.Ia=function(){return this.m};_.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function b_(t){let e="";return ch(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Eh(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=b_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):H(t,e,n))}function zr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function T_(t){this.Ga=0,this.j=[],this.l=new ua,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zr("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zr("baseRetryDelayMs",5e3,t),this.hb=zr("retryDelaySeedMs",1e4,t),this.eb=zr("forwardChannelMaxRetries",2,t),this.xa=zr("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new f_(t&&t.concurrentRequestLimit),this.Ja=new sC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}_=T_.prototype;_.ra=8;_.H=1;function bh(t){if(A_(t),t.H==3){var e=t.W++,n=kt(t.I);if(H(n,"SID",t.K),H(n,"RID",e),H(n,"TYPE","terminate"),hs(t,n),e=new as(t,t.l,e),e.L=2,e.A=pa(kt(n)),n=!1,A.navigator&&A.navigator.sendBeacon)try{n=A.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&A.Image&&(new Image().src=e.A,n=!0),n||(e.g=M_(e.l,null),e.g.ha(e.A)),e.G=Date.now(),cs(e)}k_(t)}function _a(t){t.g&&(Ah(t),t.g.cancel(),t.g=null)}function A_(t){_a(t),t.u&&(A.clearTimeout(t.u),t.u=null),ea(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&A.clearTimeout(t.m),t.m=null)}function ya(t){if(!p_(t.i)&&!t.m){t.m=!0;var e=t.Na;Jr||Wg(),Xr||(Jr(),Xr=!0),ph.add(e,t),t.C=0}}function fC(t,e){return m_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ss(be(t.Na,t,e),P_(t,t.C)),t.C++,!0)}_.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new as(this,this.l,t),s=this.s;if(this.U&&(s?(s=Ug(s),jg(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=C_(this,r,e),n=kt(this.I),H(n,"RID",t),H(n,"CVER",22),this.F&&H(n,"X-HTTP-Session-Id",this.F),hs(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(b_(s)))+"&"+e:this.o&&Eh(n,this.o,s)),wh(this.i,r),this.bb&&H(n,"TYPE","init"),this.P?(H(n,"$req",e),H(n,"SID","null"),r.aa=!0,eh(r,n,null)):eh(r,n,e),this.H=2}}else this.H==3&&(t?Ng(this,t):this.j.length==0||p_(this.i)||Ng(this))};function Ng(t,e){var n;e?n=e.m:n=t.W++;let i=kt(t.I);H(i,"SID",t.K),H(i,"RID",n),H(i,"AID",t.V),hs(t,i),t.o&&t.s&&Eh(i,t.o,t.s),n=new as(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=C_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),wh(t.i,n),eh(n,i,e)}function hs(t,e){t.na&&ch(t.na,function(n,i){H(e,i,n)}),t.h&&c_({},function(n,i){H(e,i,n)})}function C_(t,e,n){n=Math.min(t.j.length,n);var i=t.h?be(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=r[c].g,l=r[c].map;if(u-=s,0>u)s=Math.max(0,r[c].g-100),a=!1;else try{oC(l,o,"req"+u+"_")}catch{i&&i(l)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function S_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Jr||Wg(),Xr||(Jr(),Xr=!0),ph.add(e,t),t.A=0}}function Th(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ss(be(t.Ma,t),P_(t,t.A)),t.A++,!0)}_.Ma=function(){if(this.u=null,D_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ss(be(this.jb,this),t)}};_.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pe(10),_a(this),D_(this))};function Ah(t){t.B!=null&&(A.clearTimeout(t.B),t.B=null)}function D_(t){t.g=new as(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=kt(t.wa);H(e,"RID","rpc"),H(e,"SID",t.K),H(e,"AID",t.V),H(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&H(e,"TO",t.qa),H(e,"TYPE","xmlhttp"),hs(t,e),t.o&&t.s&&Eh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=pa(kt(e)),n.u=null,n.S=!0,r_(n,t)}_.ib=function(){this.v!=null&&(this.v=null,_a(this),Th(this),Pe(19))};function ea(t){t.v!=null&&(A.clearTimeout(t.v),t.v=null)}function R_(t,e){var n=null;if(t.g==e){ea(t),Ah(t),t.g=null;var i=2}else if(nh(t.i,e))n=e.F,g_(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=la(),ve(i,new Zg(i,n)),ya(t)}else S_(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&fC(t,e)||i==2&&Th(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Pn(t,5);break;case 4:Pn(t,10);break;case 3:Pn(t,6);break;default:Pn(t,2)}}}function P_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=be(t.pb,t);n||(n=new kn("//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||Xo(n,"https"),pa(n)),aC(n.toString(),i)}else Pe(2);t.H=0,t.h&&t.h.za(e),k_(t),A_(t)}_.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pe(2)):(this.l.info("Failed to ping google.com"),Pe(1))};function k_(t){if(t.H=0,t.ma=[],t.h){let e=__(t.i);(e.length!=0||t.j.length!=0)&&(bg(t.ma,e),bg(t.ma,t.j),t.i.i.length=0,oh(t.j),t.j.length=0),t.h.ya()}}function N_(t,e,n){var i=n instanceof kn?kt(n):new kn(n);if(i.g!="")e&&(i.g=e+"."+i.g),Zo(i,i.m);else{var r=A.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new kn(null);i&&Xo(s,i),e&&(s.g=e),r&&Zo(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&H(i,n,e),H(i,"VER",t.ra),hs(t,i),i}function M_(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new J(new us({ob:n})):new J(t.va),e.Oa(t.J),e}_.isActive=function(){return!!this.h&&this.h.isActive(this)};function x_(){}_=x_.prototype;_.Ba=function(){};_.Aa=function(){};_.za=function(){};_.ya=function(){};_.isActive=function(){return!0};_.Va=function(){};function ta(){if(Ti&&!(10<=Number(PA)))throw Error("Environmental error: no available transport.")}ta.prototype.g=function(t,e){return new Ue(t,e)};function Ue(t,e){de.call(this),this.g=new T_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qr(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ci(this)}fe(Ue,de);Ue.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pe(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=N_(t,null,t.Y),ya(t)};Ue.prototype.close=function(){bh(this.g)};Ue.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=fh(t),t=n);e.j.push(new nC(e.fb++,t)),e.H==3&&ya(e)};Ue.prototype.N=function(){this.g.h=null,delete this.j,bh(this.g),delete this.g,Ue.$.N.call(this)};function O_(t){yh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}fe(O_,yh);function V_(){vh.call(this),this.status=1}fe(V_,vh);function Ci(t){this.g=t}fe(Ci,x_);Ci.prototype.Ba=function(){ve(this.g,"a")};Ci.prototype.Aa=function(t){ve(this.g,new O_(t))};Ci.prototype.za=function(t){ve(this.g,new V_)};Ci.prototype.ya=function(){ve(this.g,"b")};function pC(){this.blockSize=-1}function et(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}fe(et,pC);et.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $l(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}et.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)$l(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){$l(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){$l(this,i),r=0;break}}this.h=r,this.i+=e};et.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function $(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var mC={};function Ch(t){return-128<=t&&128>t?SA(t,function(e){return new $([e|0],0>e?-1:0)}):new $([t|0],0>t?-1:0)}function dt(t){if(isNaN(t)||!isFinite(t))return bi;if(0>t)return ye(dt(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=ih;return new $(e,0)}function F_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ye(F_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dt(Math.pow(e,8)),i=bi,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=dt(Math.pow(e,s)),i=i.R(s).add(dt(o))):(i=i.R(n),i=i.add(dt(o)))}return i}var ih=4294967296,bi=Ch(0),rh=Ch(1),Mg=Ch(16777216);_=$.prototype;_.ea=function(){if(Qe(this))return-ye(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:ih+i)*e,e*=ih}return t};_.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Pt(this))return"0";if(Qe(this))return"-"+ye(this).toString(t);for(var e=dt(Math.pow(t,6)),n=this,i="";;){var r=ia(n,e).g;n=na(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Pt(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};_.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Pt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qe(t){return t.h==-1}_.X=function(t){return t=na(this,t),Qe(t)?-1:Pt(t)?0:1};function ye(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new $(n,~t.h).add(rh)}_.abs=function(){return Qe(this)?ye(this):this};_.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new $(n,n[n.length-1]&-2147483648?-1:0)};function na(t,e){return t.add(ye(e))}_.R=function(t){if(Pt(this)||Pt(t))return bi;if(Qe(this))return Qe(t)?ye(this).R(ye(t)):ye(ye(this).R(t));if(Qe(t))return ye(this.R(ye(t)));if(0>this.X(Mg)&&0>t.X(Mg))return dt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=o*c,Jo(n,2*i+2*r),n[2*i+2*r+1]+=s*c,Jo(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,Jo(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,Jo(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new $(n,0)};function Jo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gr(t,e){this.g=t,this.h=e}function ia(t,e){if(Pt(e))throw Error("division by zero");if(Pt(t))return new Gr(bi,bi);if(Qe(t))return e=ia(ye(t),e),new Gr(ye(e.g),ye(e.h));if(Qe(e))return e=ia(t,ye(e)),new Gr(ye(e.g),e.h);if(30<t.g.length){if(Qe(t)||Qe(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rh,i=e;0>=i.X(t);)n=xg(n),i=xg(i);var r=Ii(n,1),s=Ii(i,1);for(i=Ii(i,2),n=Ii(n,2);!Pt(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Ii(i,1),n=Ii(n,1)}return e=na(t,r.R(e)),new Gr(r,e)}for(r=bi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=dt(n),o=s.R(e);Qe(o)||0<o.X(t);)n-=i,s=dt(n),o=s.R(e);Pt(s)&&(s=rh),r=r.add(s),t=na(t,o)}return new Gr(r,t)}_.gb=function(t){return ia(this,t).h};_.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new $(n,this.h&t.h)};_.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new $(n,this.h|t.h)};_.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new $(n,this.h^t.h)};function xg(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new $(n,t.h)}function Ii(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new $(r,t.h)}ta.prototype.createWebChannel=ta.prototype.g;Ue.prototype.send=Ue.prototype.u;Ue.prototype.open=Ue.prototype.m;Ue.prototype.close=Ue.prototype.close;ha.NO_ERROR=0;ha.TIMEOUT=8;ha.HTTP_ERROR=6;e_.COMPLETE="complete";t_.EventType=os;os.OPEN="a";os.CLOSE="b";os.ERROR="c";os.MESSAGE="d";de.prototype.listen=de.prototype.O;J.prototype.listenOnce=J.prototype.P;J.prototype.getLastError=J.prototype.Sa;J.prototype.getLastErrorCode=J.prototype.Ia;J.prototype.getStatus=J.prototype.da;J.prototype.getResponseJson=J.prototype.Wa;J.prototype.getResponseText=J.prototype.ja;J.prototype.send=J.prototype.ha;J.prototype.setWithCredentials=J.prototype.Oa;et.prototype.digest=et.prototype.l;et.prototype.reset=et.prototype.reset;et.prototype.update=et.prototype.j;$.prototype.add=$.prototype.add;$.prototype.multiply=$.prototype.R;$.prototype.modulo=$.prototype.gb;$.prototype.compare=$.prototype.X;$.prototype.toNumber=$.prototype.ea;$.prototype.toString=$.prototype.toString;$.prototype.getBits=$.prototype.D;$.fromNumber=dt;$.fromString=F_;var L_=tt.createWebChannelTransport=function(){return new ta},U_=tt.getStatEventTarget=function(){return la()},va=tt.ErrorCode=ha,j_=tt.EventType=e_,B_=tt.Event=Nn,Sh=tt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$_=tt.FetchXmlHttpFactory=us,ds=tt.WebChannel=t_,q_=tt.XhrIo=J,gC=tt.Md5=et,z_=tt.Integer=$;var G_="@firebase/firestore";var pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pe.UNAUTHENTICATED=new pe(null),pe.GOOGLE_CREDENTIALS=new pe("google-credentials-uid"),pe.FIRST_PARTY=new pe("first-party-uid"),pe.MOCK_USER=new pe("mock-user");var zi="10.11.1";var Vn=new Gt("@firebase/firestore");function fs(){return Vn.logLevel}function v(t,...e){if(Vn.logLevel<=x.DEBUG){let n=e.map(Kd);Vn.debug(`Firestore (${zi}): ${t}`,...n)}}function Fn(t,...e){if(Vn.logLevel<=x.ERROR){let n=e.map(Kd);Vn.error(`Firestore (${zi}): ${t}`,...n)}}function Aa(t,...e){if(Vn.logLevel<=x.WARN){let n=e.map(Kd);Vn.warn(`Firestore (${zi}): ${t}`,...n)}}function Kd(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function O(t="Unexpected state"){let e=`FIRESTORE (${zi}) INTERNAL ASSERTION FAILED: `+t;throw Fn(e),new Error(e)}function ge(t,e){t||O()}function W(t,e){return t}var p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=class extends Le{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ca=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kh=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pe.UNAUTHENTICATED))}shutdown(){}},Nh=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Mh=class{constructor(e){this.t=e,this.currentUser=pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nt,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>h(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{v("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(v("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(v("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ge(typeof i.accessToken=="string"),new Ca(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new pe(e)}},xh=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Oh=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new xh(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fh=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&v("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,v("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{v("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):v("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new Vh(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function _C(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Sa=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=_C(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function z(t,e){return t<e?-1:t>e?1:0}function Pi(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Se=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new w(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new w(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new w(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new w(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?z(this.nanoseconds,e.nanoseconds):z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Se(0,0))}static max(){return new t(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Da=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&O(),i===void 0?i=e.length-n:i>e.length-n&&O(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},se=class t extends Da{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new w(p.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/,je=class t extends Da{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return yC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new w(p.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new w(p.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new w(p.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new w(p.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var N=class t{constructor(e){this.path=e}static fromPath(e){return new t(se.fromString(e))}static fromName(e){return new t(se.fromString(e).popFirst(5))}static empty(){return new t(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new se(e.slice()))}};var Lh=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};Lh.UNKNOWN_ID=-1;function vC(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=X.fromTimestamp(i===1e9?new Se(n+1,0):new Se(n,i));return new Ln(r,N.empty(),e)}function wC(t){return new Ln(t.readTime,t.key,-1)}var Ln=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(X.min(),N.empty(),-1)}static max(){return new t(X.max(),N.empty(),-1)}};function IC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=N.comparator(t.documentKey,e.documentKey),n!==0?n:z(t.largestBatchId,e.largestBatchId))}var EC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uh=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hy(t){return h(this,null,function*(){if(t.code!==p.FAILED_PRECONDITION||t.message!==EC)throw t;v("LocalStore","Unexpectedly lost primary lease")})}var g=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&i(o)},l=>r(l))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function bC(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ha(t){return t.name==="IndexedDbTransactionError"}var TC=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Qd(t){return t==null}function vs(t){return t===0&&1/t==-1/0}function AC(t){return typeof t=="number"&&Number.isInteger(t)&&!vs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var CC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gk=[...CC,"documentOverlays"],SC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DC=SC,Hk=[...DC,"indexConfiguration","indexState","indexEntries"];function H_(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dy(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Be=class t{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Di(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Di(this.root,e,this.comparator,!1)}getReverseIterator(){return new Di(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Di(this.root,e,this.comparator,!0)}},Di=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gt=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();let e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}};gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,i,r,s){return this}insert(e,n,i){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ke=class t{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ra(this.data.getIterator())}getIteratorFrom(e){return new Ra(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ra=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mt=class t{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new t([])}unionWith(e){let n=new ke(je.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pi(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var jh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nn.EMPTY_BYTE_STRING=new nn("");var RC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rn(t){if(ge(!!t),typeof t=="string"){let e=0,n=RC.exec(t);if(ge(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ue(t.seconds),nanos:ue(t.nanos)}}function ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}function Yd(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fy(t){let e=t.mapValue.fields.__previous_value__;return Yd(e)?fy(e):e}function Pa(t){let e=rn(t.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}var Bh=class{constructor(e,n,i,r,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},$h=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yd(t)?4:py(t)?9007199254740991:10:O()}function _t(t,e){if(t===e)return!0;let n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=rn(r.timestampValue),a=rn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ki(r.bytesValue).isEqual(ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ue(r.geoPointValue.latitude)===ue(s.geoPointValue.latitude)&&ue(r.geoPointValue.longitude)===ue(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ue(r.integerValue)===ue(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=ue(r.doubleValue),a=ue(s.doubleValue);return o===a?vs(o)===vs(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Pi(t.arrayValue.values||[],e.arrayValue.values||[],_t);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(H_(o)!==H_(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!_t(o[c],a[c])))return!1;return!0}(t,e);default:return O()}}function ws(t,e){return(t.values||[]).find(n=>_t(n,e))!==void 0}function Mi(t,e){if(t===e)return 0;let n=Ni(t),i=Ni(e);if(n!==i)return z(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return z(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ue(s.integerValue||s.doubleValue),c=ue(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return W_(t.timestampValue,e.timestampValue);case 4:return W_(Pa(t),Pa(e));case 5:return z(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ki(s),c=ki(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=z(a[u],c[u]);if(l!==0)return l}return z(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=z(ue(s.latitude),ue(o.latitude));return a!==0?a:z(ue(s.longitude),ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Mi(a[u],c[u]);if(l)return l}return z(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===wa.mapValue&&o===wa.mapValue)return 0;if(s===wa.mapValue)return 1;if(o===wa.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let f=z(c[d],l[d]);if(f!==0)return f;let m=Mi(a[c[d]],u[l[d]]);if(m!==0)return m}return z(c.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function W_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return z(t,e);let n=rn(t),i=rn(e),r=z(n.seconds,i.seconds);return r!==0?r:z(n.nanos,i.nanos)}function xi(t){return qh(t)}function qh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=rn(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return N.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=qh(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${qh(n.fields[o])}`;return r+"}"}(t.mapValue):O()}function zh(t){return!!t&&"integerValue"in t}function Jd(t){return!!t&&"arrayValue"in t}function ba(t){return!!t&&"mapValue"in t}function ms(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return bs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ms(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ms(t.arrayValue.values[n]);return e}return Object.assign({},t)}function py(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var pt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ba(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ms(n)}setAll(e){let n=je.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ms(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());ba(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _t(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ba(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){bs(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(ms(this.value))}};function my(t){let e=[];return bs(t.fields,(n,i)=>{let r=new je([n]);if(ba(i)){let s=my(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new mt(e)}var Oi=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),pt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,X.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),pt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vi=class{constructor(e,n){this.position=e,this.inclusive=n}};function K_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=N.comparator(N.fromName(o.referenceValue),n.key):i=Mi(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_t(t.position[n],e.position[n]))return!1;return!0}var Fi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function PC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ka=class{},me=class t extends ka{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Hh(e,n,i):n==="array-contains"?new Qh(e,i):n==="in"?new Yh(e,i):n==="not-in"?new Jh(e,i):n==="array-contains-any"?new Xh(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Wh(e,i):new Kh(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mi(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(Mi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sn=class t extends ka{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return gy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function gy(t){return t.op==="and"}function _y(t){return kC(t)&&gy(t)}function kC(t){for(let e of t.filters)if(e instanceof sn)return!1;return!0}function Gh(t){if(t instanceof me)return t.field.canonicalString()+t.op.toString()+xi(t.value);if(_y(t))return t.filters.map(e=>Gh(e)).join(",");{let e=t.filters.map(n=>Gh(n)).join(",");return`${t.op}(${e})`}}function yy(t,e){return t instanceof me?function(i,r){return r instanceof me&&i.op===r.op&&i.field.isEqual(r.field)&&_t(i.value,r.value)}(t,e):t instanceof sn?function(i,r){return r instanceof sn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&yy(o,r.filters[a]),!0):!1}(t,e):void O()}function vy(t){return t instanceof me?function(n){return`${n.field.canonicalString()} ${n.op} ${xi(n.value)}`}(t):t instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(vy).join(" ,")+"}"}(t):"Filter"}var Hh=class extends me{constructor(e,n,i){super(e,n,i),this.key=N.fromName(i.referenceValue)}matches(e){let n=N.comparator(e.key,this.key);return this.matchesComparison(n)}},Wh=class extends me{constructor(e,n){super(e,"in",n),this.keys=wy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Kh=class extends me{constructor(e,n){super(e,"not-in",n),this.keys=wy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>N.fromName(i.referenceValue))}var Qh=class extends me{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Jd(n)&&ws(n.arrayValue,this.value)}},Yh=class extends me{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ws(this.value.arrayValue,n)}},Jh=class extends me{constructor(e,n){super(e,"not-in",n)}matches(e){if(ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ws(this.value.arrayValue,n)}},Xh=class extends me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ws(this.value.arrayValue,i))}};var Zh=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function Y_(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Zh(t,e,n,i,r,s,o)}function Xd(t){let e=W(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Gh(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>xi(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>xi(i)).join(",")),e.ue=n}return e.ue}function Zd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q_(t.startAt,e.startAt)&&Q_(t.endAt,e.endAt)}var Li=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function NC(t,e,n,i,r,s,o,a){return new Li(t,e,n,i,r,s,o,a)}function MC(t){return new Li(t)}function J_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xC(t){return t.collectionGroup!==null}function gs(t){let e=W(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ke(je.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fi(s,i))}),n.has(je.keyField().canonicalString())||e.ce.push(new Fi(je.keyField(),i))}return e.ce}function xn(t){let e=W(t);return e.le||(e.le=OC(e,gs(t))),e.le}function OC(t,e){if(t.limitType==="F")return Y_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Fi(r.field,s)});let n=t.endAt?new Vi(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Vi(t.startAt.position,t.startAt.inclusive):null;return Y_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ed(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Iy(t,e){return Zd(xn(t),xn(e))&&t.limitType===e.limitType}function Ey(t){return`${Xd(xn(t))}|lt:${t.limitType}`}function ps(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>vy(r)).join(", ")}]`),Qd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>xi(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>xi(r)).join(",")),`Target(${i})`}(xn(t))}; limitType=${t.limitType})`}function ef(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):N.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of gs(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=K_(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,gs(i),r)||i.endAt&&!function(o,a,c){let u=K_(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,gs(i),r))}(t,e)}function VC(t){return(e,n)=>{let i=!1;for(let r of gs(t)){let s=FC(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function FC(t,e,n){let i=t.field.isKeyField()?N.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Mi(c,u):O()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return O()}}var on=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return dy(this.inner)}size(){return this.innerSize}};var LC=new Be(N.comparator);function Na(){return LC}var by=new Be(N.comparator);function Ia(...t){let e=by;for(let n of t)e=e.insert(n.key,n);return e}function Ty(t){let e=by;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Mn(){return _s()}function Ay(){return _s()}function _s(){return new on(t=>t.toString(),(t,e)=>t.isEqual(e))}var UC=new Be(N.comparator),jC=new ke(N.comparator);function Ce(...t){let e=jC;for(let n of t)e=e.add(n);return e}var BC=new ke(z);function $C(){return BC}function Cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vs(e)?"-0":e}}function Sy(t){return{integerValue:""+t}}function qC(t,e){return AC(e)?Sy(e):Cy(t,e)}var Ui=class{constructor(){this._=void 0}};function zC(t,e,n){return t instanceof ji?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Yd(s)&&(s=fy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Un?Ry(t,e):t instanceof jn?Py(t,e):function(r,s){let o=Dy(r,s),a=X_(o)+X_(r.Pe);return zh(o)&&zh(r.Pe)?Sy(a):Cy(r.serializer,a)}(t,e)}function GC(t,e,n){return t instanceof Un?Ry(t,e):t instanceof jn?Py(t,e):n}function Dy(t,e){return t instanceof Bi?function(i){return zh(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var ji=class extends Ui{},Un=class extends Ui{constructor(e){super(),this.elements=e}};function Ry(t,e){let n=ky(e);for(let i of t.elements)n.some(r=>_t(r,i))||n.push(i);return{arrayValue:{values:n}}}var jn=class extends Ui{constructor(e){super(),this.elements=e}};function Py(t,e){let n=ky(e);for(let i of t.elements)n=n.filter(r=>!_t(r,i));return{arrayValue:{values:n}}}var Bi=class extends Ui{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function X_(t){return ue(t.integerValue||t.doubleValue)}function ky(t){return Jd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HC(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Un&&r instanceof Un||i instanceof jn&&r instanceof jn?Pi(i.elements,r.elements,_t):i instanceof Bi&&r instanceof Bi?_t(i.Pe,r.Pe):i instanceof ji&&r instanceof ji}(t.transform,e.transform)}var td=class{constructor(e,n){this.version=e,this.transformResults=n}},On=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ta(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var $i=class{};function Ny(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ma(t.key,On.none()):new Bn(t.key,t.data,On.none());{let n=t.data,i=pt.empty(),r=new ke(je.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new xt(t.key,i,new mt(r.toArray()),On.none())}}function WC(t,e,n){t instanceof Bn?function(r,s,o){let a=r.value.clone(),c=ey(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xt?function(r,s,o){if(!Ta(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=ey(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(My(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ys(t,e,n,i){return t instanceof Bn?function(s,o,a,c){if(!Ta(s.precondition,o))return a;let u=s.value.clone(),l=ty(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof xt?function(s,o,a,c){if(!Ta(s.precondition,o))return a;let u=ty(s.fieldTransforms,c,o),l=o.data;return l.setAll(My(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Ta(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function KC(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=Dy(i.transform,r||null);s!=null&&(n===null&&(n=pt.empty()),n.set(i.field,s))}return n||null}function Z_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Pi(i,r,(s,o)=>HC(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bn=class extends $i{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},xt=class extends $i{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function My(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function ey(t,e,n){let i=new Map;ge(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,GC(o,a,n[r]))}return i}function ty(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,zC(s,o,e))}return i}var Ma=class extends $i{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},nd=class extends $i{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var id=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&WC(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=ys(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=ys(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=Ay();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=Ny(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Pi(this.mutations,e.mutations,(n,i)=>Z_(n,i))&&Pi(this.baseMutations,e.baseMutations,(n,i)=>Z_(n,i))}},rd=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ge(e.mutations.length===i.length);let r=function(){return UC}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var sd=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ie,F;function QC(t){switch(t){default:return O();case p.CANCELLED:case p.UNKNOWN:case p.DEADLINE_EXCEEDED:case p.RESOURCE_EXHAUSTED:case p.INTERNAL:case p.UNAVAILABLE:case p.UNAUTHENTICATED:return!1;case p.INVALID_ARGUMENT:case p.NOT_FOUND:case p.ALREADY_EXISTS:case p.PERMISSION_DENIED:case p.FAILED_PRECONDITION:case p.ABORTED:case p.OUT_OF_RANGE:case p.UNIMPLEMENTED:case p.DATA_LOSS:return!0}}function YC(t){if(t===void 0)return Fn("GRPC error has no .code"),p.UNKNOWN;switch(t){case ie.OK:return p.OK;case ie.CANCELLED:return p.CANCELLED;case ie.UNKNOWN:return p.UNKNOWN;case ie.DEADLINE_EXCEEDED:return p.DEADLINE_EXCEEDED;case ie.RESOURCE_EXHAUSTED:return p.RESOURCE_EXHAUSTED;case ie.INTERNAL:return p.INTERNAL;case ie.UNAVAILABLE:return p.UNAVAILABLE;case ie.UNAUTHENTICATED:return p.UNAUTHENTICATED;case ie.INVALID_ARGUMENT:return p.INVALID_ARGUMENT;case ie.NOT_FOUND:return p.NOT_FOUND;case ie.ALREADY_EXISTS:return p.ALREADY_EXISTS;case ie.PERMISSION_DENIED:return p.PERMISSION_DENIED;case ie.FAILED_PRECONDITION:return p.FAILED_PRECONDITION;case ie.ABORTED:return p.ABORTED;case ie.OUT_OF_RANGE:return p.OUT_OF_RANGE;case ie.UNIMPLEMENTED:return p.UNIMPLEMENTED;case ie.DATA_LOSS:return p.DATA_LOSS;default:return O()}}(F=ie||(ie={}))[F.OK=0]="OK",F[F.CANCELLED=1]="CANCELLED",F[F.UNKNOWN=2]="UNKNOWN",F[F.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",F[F.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",F[F.NOT_FOUND=5]="NOT_FOUND",F[F.ALREADY_EXISTS=6]="ALREADY_EXISTS",F[F.PERMISSION_DENIED=7]="PERMISSION_DENIED",F[F.UNAUTHENTICATED=16]="UNAUTHENTICATED",F[F.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",F[F.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",F[F.ABORTED=10]="ABORTED",F[F.OUT_OF_RANGE=11]="OUT_OF_RANGE",F[F.UNIMPLEMENTED=12]="UNIMPLEMENTED",F[F.INTERNAL=13]="INTERNAL",F[F.UNAVAILABLE=14]="UNAVAILABLE",F[F.DATA_LOSS=15]="DATA_LOSS";var Kk=new z_([4294967295,4294967295],0);var od=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XC(t,e){return ad(t,e.toTimestamp())}function Ri(t){return ge(!!t),X.fromTimestamp(function(n){let i=rn(n);return new Se(i.seconds,i.nanos)}(t))}function xy(t,e){return cd(t,e).canonicalString()}function cd(t,e){let n=function(r){return new se(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZC(t){let e=se.fromString(t);return ge(aS(e)),e}function ud(t,e){return xy(t.databaseId,e.path)}function eS(t){let e=ZC(t);return e.length===4?se.emptyPath():nS(e)}function tS(t){return new se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nS(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ny(t,e,n){return{name:ud(t,e),fields:n.value.mapValue.fields}}function iS(t,e){let n;if(e instanceof Bn)n={update:ny(t,e.key,e.value)};else if(e instanceof Ma)n={delete:ud(t,e.key)};else if(e instanceof xt)n={update:ny(t,e.key,e.data),updateMask:oS(e.fieldMask)};else{if(!(e instanceof nd))return O();n={verify:ud(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof ji)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Un)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jn)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw O()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:XC(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:O()}(t,e.precondition)),n}function rS(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Ri(r.updateTime):Ri(s);return o.isEqual(X.min())&&(o=Ri(s)),new td(o,r.transformResults||[])}(n,e))):[]}function sS(t){let e=eS(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){ge(i===1);let l=n.from[0];l.allDescendants?r=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let f=Oy(d);return f instanceof sn&&_y(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(b){return new Fi(Si(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Qd(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(d){let f=!!d.before,m=d.values||[];return new Vi(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let f=!d.before,m=d.values||[];return new Vi(m,f)}(n.endAt)),NC(e,r,o,s,a,"F",c,u)}function Oy(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Si(n.unaryFilter.field);return me.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Si(n.unaryFilter.field);return me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Si(n.unaryFilter.field);return me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Si(n.unaryFilter.field);return me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(n){return me.create(Si(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(i=>Oy(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O()}function Si(t){return je.fromServerFormat(t.fieldPath)}function oS(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ld=class{constructor(e){this.ut=e}};function cS(t){let e=sS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}var xa=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ue(e.integerValue));else if("doubleValue"in e){let i=ue(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),vs(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(n,20),typeof i=="string"&&(i=rn(i)),n.dt(`${i.seconds||""}`),n.Et(i.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ki(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?py(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):O()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let i=e.fields||{};this.Tt(n,55);for(let r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){let i=e.values||[];this.Tt(n,50);for(let r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),N.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};xa.St=new xa;var hd=class{constructor(){this.on=new dd}addToCollectionParentIndex(e,n){return this.on.add(n),g.resolve()}getCollectionParents(e,n){return g.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return g.resolve()}deleteFieldIndex(e,n){return g.resolve()}deleteAllFieldIndexes(e){return g.resolve()}createTargetIndexes(e,n){return g.resolve()}getDocumentsMatchingTarget(e,n){return g.resolve(null)}getIndexType(e,n){return g.resolve(0)}getFieldIndexes(e,n){return g.resolve([])}getNextCollectionGroupToUpdate(e){return g.resolve(null)}getMinOffset(e,n){return g.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return g.resolve(Ln.min())}updateCollectionGroup(e,n,i){return g.resolve()}updateIndexEntries(e,n){return g.resolve()}},dd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ke(se.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ke(se.comparator)).toArray()}};var Qk=new Uint8Array(0);var ft=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ft.DEFAULT_COLLECTION_PERCENTILE=10,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ft.DEFAULT=new ft(41943040,ft.DEFAULT_COLLECTION_PERCENTILE,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ft.DISABLED=new ft(-1,0,0);var Is=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var fd=class{constructor(){this.changes=new on(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?g.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pd=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var md=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ys(i.mutation,r,mt.empty(),Se.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ce()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ce()){let r=Mn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Ia();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=Mn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ce()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Na(),o=_s(),a=function(){return _s()}();return n.forEach((c,u)=>{let l=i.get(u.key);r.has(u.key)&&(l===void 0||l.mutation instanceof xt)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ys(l.mutation,u,l.mutation.getFieldMask(),Se.now())):o.set(u.key,mt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new pd(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=_s(),r=new Be((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=i.get(c)||mt.empty();l=a.applyToLocalView(u,l),i.set(c,l);let d=(r.get(a.batchId)||Ce()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Ay();l.forEach(f=>{if(!s.has(f)){let m=Ny(n.get(f),i.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return g.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return N.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):g.resolve(Mn()),a=-1,c=s;return o.next(u=>g.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?g.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ce())).next(l=>({batchId:a,changes:Ty(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(i=>{let r=Ia();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Ia();return this.indexManager.getCollectionParents(e,s).next(a=>g.forEach(a,c=>{let u=function(d,f){return new Li(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(l=>{l.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Oi.newInvalidDocument(l)))});let a=Ia();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ys(l.mutation,u,mt.empty(),Se.now()),ef(n,u)&&(a=a.insert(c,u))}),a})}};var gd=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return g.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ri(r.createTime)}}(n)),g.resolve()}getNamedQuery(e,n){return g.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:cS(r.bundledQuery),readTime:Ri(r.readTime)}}(n)),g.resolve()}};var _d=class{constructor(){this.overlays=new Be(N.comparator),this.lr=new Map}getOverlay(e,n){return g.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Mn();return g.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.lt(e,n,s)}),g.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),g.resolve()}getOverlaysForCollection(e,n,i){let r=Mn(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return g.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Be((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let l=s.get(u.largestBatchId);l===null&&(l=Mn(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Mn(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=r)););return g.resolve(a)}lt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new sd(n,i));let s=this.lr.get(n);s===void 0&&(s=Ce(),this.lr.set(n,s)),this.lr.set(n,s.add(i.key))}};var Es=class{constructor(){this.hr=new ke(re.Pr),this.Ir=new ke(re.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let i=new re(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new re(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){let n=new N(new se([])),i=new re(n,e),r=new re(n,e+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new N(new se([])),i=new re(n,e),r=new re(n,e+1),s=Ce();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new re(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},re=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return N.comparator(e.key,n.key)||z(e.gr,n.gr)}static Tr(e,n){return z(e.gr,n.gr)||N.comparator(e.key,n.key)}};var yd=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ke(re.Pr)}checkEmpty(e){return g.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new id(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.yr=this.yr.add(new re(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return g.resolve(o)}lookupMutationBatch(e,n){return g.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Sr(i),s=r<0?0:r;return g.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return g.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return g.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new re(n,0),r=new re(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{let a=this.wr(o.gr);s.push(a)}),g.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ke(z);return n.forEach(r=>{let s=new re(r,0),o=new re(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),g.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;N.isDocumentKey(s)||(s=s.child(""));let o=new re(new N(s),0),a=new ke(z);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.gr)),!0)},o),g.resolve(this.br(a))}br(e){let n=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ge(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return g.forEach(n.mutations,r=>{let s=new re(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){let i=new re(n,0),r=this.yr.firstAfterOrEqual(i);return g.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,g.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var vd=class{constructor(e){this.Cr=e,this.docs=function(){return new Be(N.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return g.resolve(i?i.document.mutableCopy():Oi.newInvalidDocument(n))}getEntries(e,n){let i=Na();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Oi.newInvalidDocument(r))}),g.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Na(),o=n.path,a=new N(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||IC(wC(l),i)<=0||(r.has(l.key)||ef(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return g.resolve(s)}getAllFromCollectionGroup(e,n,i,r){O()}vr(e,n){return g.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new wd(this)}getSize(e){return g.resolve(this.size)}},wd=class extends fd{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),g.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Id=class{constructor(e){this.persistence=e,this.Fr=new on(n=>Xd(n),Zd),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Es,this.targetCount=0,this.Nr=Is.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),g.resolve()}getLastRemoteSnapshotVersion(e){return g.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),g.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),g.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Is(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,g.resolve()}updateTargetData(e,n){return this.kn(n),g.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,g.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),g.waitFor(s).next(()=>r)}getTargetCount(e){return g.resolve(this.targetCount)}getTargetData(e,n){let i=this.Fr.get(n)||null;return g.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),g.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),g.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),g.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Or.mr(n);return g.resolve(i)}containsKey(e,n){return g.resolve(this.Or.containsKey(n))}};var Ed=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new TC(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Id(this),this.indexManager=new hd,this.remoteDocumentCache=function(r){return new vd(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new ld(n),this.Kr=new gd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _d,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new yd(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){v("MemoryPersistence","Starting transaction:",e);let r=new bd(this.Br.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(e,n){return g.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},bd=class extends Uh{constructor(e){super(),this.currentSequenceNumber=e}},Td=class t{constructor(e){this.persistence=e,this.Gr=new Es,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw O()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),g.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),g.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),g.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g.forEach(this.Hr,i=>{let r=N.fromPath(i);return this.Jr(e,r).next(s=>{s||n.removeEntry(r,X.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return g.or([()=>g.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Ad=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=Ce(),r=Ce();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var Cd=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sd=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return rm()?8:bC(ae())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Cd;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(fs()<=x.DEBUG&&v("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),g.resolve()):(fs()<=x.DEBUG&&v("QueryEngine","Query:",ps(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(fs()<=x.DEBUG&&v("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):g.resolve())}zi(e,n){if(J_(n))return g.resolve(null);let i=xn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ed(n,null,"F"),i=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ce(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,ed(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,i,r){return J_(n)||r.isEqual(X.min())?g.resolve(null):this.Gi.getDocuments(e,i).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,i,r)?g.resolve(null):(fs()<=x.DEBUG&&v("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ps(n)),this.Xi(e,o,n,vC(r,-1)).next(a=>a))})}Yi(e,n){let i=new ke(VC(e));return n.forEach((r,s)=>{ef(e,s)&&(i=i.add(s))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(e,n,i){return fs()<=x.DEBUG&&v("QueryEngine","Using full collection scan to execute query:",ps(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ln.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Dd=class{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Be(z),this.ns=new on(s=>Xd(s),Zd),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new md(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function uS(t,e,n,i){return new Dd(t,e,n,i)}function Vy(t,e){return h(this,null,function*(){let n=W(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Ce();for(let u of r){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(i,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function lS(t,e){let n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,f=d.keys(),m=g.resolve();return f.forEach(b=>{m=m.next(()=>l.getEntry(c,b)).next(D=>{let R=u.docVersions.get(b);ge(R!==null),D.version.compareTo(R)<0&&(d.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),l.addEntry(D)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function hS(t){let e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function dS(t,e){let n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}var Oa=class{constructor(){this.activeTargetIds=$C()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rd=class{constructor(){this.eo=new Oa,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Oa,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Pd=class{ro(e){}shutdown(){}};var Va=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ea=null;function Dh(){return Ea===null?Ea=function(){return 268435456+Math.round(2147483648*Math.random())}():Ea++,"0x"+Ea.toString(16)}var fS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var kd=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var Ae="WebChannelConnection",Nd=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=i+"://"+n.host,this.wo=`projects/${r}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get bo(){return!1}Do(n,i,r,s,o){let a=Dh(),c=this.Co(n,i.toUriEncodedString());v("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,r).then(l=>(v("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Aa("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",r),l})}Mo(n,i,r,s,o,a){return this.Do(n,i,r,s,o)}vo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}Co(n,i){let r=fS[n];return`${this.yo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,i,r){let s=Dh();return new Promise((o,a)=>{let c=new q_;c.setWithCredentials(!0),c.listenOnce(j_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case va.NO_ERROR:let l=c.getResponseJson();v(Ae,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case va.TIMEOUT:v(Ae,`RPC '${e}' ${s} timed out`),a(new w(p.DEADLINE_EXCEEDED,"Request time out"));break;case va.HTTP_ERROR:let d=c.getStatus();if(v(Ae,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let m=f?.error;if(m&&m.status&&m.message){let b=function(R){let B=R.toLowerCase().replace(/_/g,"-");return Object.values(p).indexOf(B)>=0?B:p.UNKNOWN}(m.status);a(new w(b,m.message))}else a(new w(p.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new w(p.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{v(Ae,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);v(Ae,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}xo(e,n,i){let r=Dh(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L_(),a=U_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new $_({})),this.vo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let l=s.join("");v(Ae,`Creating RPC '${e}' stream ${r}: ${l}`,c);let d=o.createWebChannel(l,c),f=!1,m=!1,b=new kd({co:R=>{m?v(Ae,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(f||(v(Ae,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),v(Ae,`RPC '${e}' stream ${r} sending:`,R),d.send(R))},lo:()=>d.close()}),D=(R,B,Z)=>{R.listen(B,$e=>{try{Z($e)}catch(nt){setTimeout(()=>{throw nt},0)}})};return D(d,ds.EventType.OPEN,()=>{m||(v(Ae,`RPC '${e}' stream ${r} transport opened.`),b.Vo())}),D(d,ds.EventType.CLOSE,()=>{m||(m=!0,v(Ae,`RPC '${e}' stream ${r} transport closed`),b.fo())}),D(d,ds.EventType.ERROR,R=>{m||(m=!0,Aa(Ae,`RPC '${e}' stream ${r} transport errored:`,R),b.fo(new w(p.UNAVAILABLE,"The operation could not be completed")))}),D(d,ds.EventType.MESSAGE,R=>{var B;if(!m){let Z=R.data[0];ge(!!Z);let $e=Z,nt=$e.error||((B=$e[0])===null||B===void 0?void 0:B.error);if(nt){v(Ae,`RPC '${e}' stream ${r} received error:`,nt);let Yi=nt.status,un=function(Xi){let xs=ie[Xi];if(xs!==void 0)return YC(xs)}(Yi),Ji=nt.message;un===void 0&&(un=p.INTERNAL,Ji="Unknown error status: "+Yi+" with message "+nt.message),m=!0,b.fo(new w(un,Ji)),d.close()}else v(Ae,`RPC '${e}' stream ${r} received:`,Z),b.po(Z)}}),D(a,B_.STAT_EVENT,R=>{R.stat===Sh.PROXY?v(Ae,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===Sh.NOPROXY&&v(Ae,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.mo()},0),b}};function Rh(){return typeof document<"u"?document:null}function Wa(t){return new od(t,!0)}var Fa=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=i,this.No=r,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),i=Math.max(0,Date.now()-this.qo),r=Math.max(0,n-i);r>0&&v("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var Md=class{constructor(e,n,i,r,s,o,a,c){this.si=e,this.Wo=i,this.Go=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Fa(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return h(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return h(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return h(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===p.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===p.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.zo===n&&this.a_(i,r)},i=>{e(()=>{let r=new w(p.UNKNOWN,"Fetching auth token failed: "+i.message);return this.u_(r)})})}a_(e,n){let i=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{i(()=>this.listener.ho())}),this.stream.Io(()=>{i(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(r=>{i(()=>this.u_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Xo(){this.state=5,this.Jo.Ko(()=>h(this,null,function*(){this.state=0,this.start()}))}u_(e){return v("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var xd=class extends Md{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=rS(e.writeResults,e.commitTime),i=Ri(e.commitTime);return this.listener.d_(i,n)}return ge(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=tS(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>iS(this.serializer,i))};this.r_(n)}};var Od=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new w(p.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,i,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,cd(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new w(p.UNKNOWN,s.toString())})}Mo(e,n,i,r,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,cd(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new w(p.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var Vd=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Fn(n),this.y_=!1):v("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Fd=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{i.enqueueAndForget(()=>h(this,null,function*(){As(this)&&(v("RemoteStore","Restarting streams for network reachability change."),yield function(c){return h(this,null,function*(){let u=W(c);u.M_.add(4),yield Ts(u),u.N_.set("Unknown"),u.M_.delete(4),yield Ka(u)})}(this))}))}),this.N_=new Vd(i,r)}};function Ka(t){return h(this,null,function*(){if(As(t))for(let e of t.x_)yield e(!0)})}function Ts(t){return h(this,null,function*(){for(let e of t.x_)yield e(!1)})}function As(t){return W(t).M_.size===0}function Fy(t,e,n){return h(this,null,function*(){if(!Ha(e))throw e;t.M_.add(1),yield Ts(t),t.N_.set("Offline"),n||(n=()=>hS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>h(this,null,function*(){v("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Ka(t)}))})}function Ly(t,e){return e().catch(n=>Fy(t,n,e))}function Qa(t){return h(this,null,function*(){let e=W(t),n=an(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;pS(e);)try{let r=yield dS(e.localStore,i);if(r===null){e.v_.length===0&&n.t_();break}i=r.batchId,mS(e,r)}catch(r){yield Fy(e,r)}Uy(e)&&jy(e)})}function pS(t){return As(t)&&t.v_.length<10}function mS(t,e){t.v_.push(e);let n=an(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function Uy(t){return As(t)&&!an(t).Yo()&&t.v_.length>0}function jy(t){an(t).start()}function gS(t){return h(this,null,function*(){an(t).R_()})}function _S(t){return h(this,null,function*(){let e=an(t);for(let n of t.v_)e.E_(n.mutations)})}function yS(t,e,n){return h(this,null,function*(){let i=t.v_.shift(),r=rd.from(i,e,n);yield Ly(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Qa(t)})}function vS(t,e){return h(this,null,function*(){e&&an(t).T_&&(yield function(i,r){return h(this,null,function*(){if(function(o){return QC(o)&&o!==p.ABORTED}(r.code)){let s=i.v_.shift();an(i).e_(),yield Ly(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Qa(i)}})}(t,e)),Uy(t)&&jy(t)})}function iy(t,e){return h(this,null,function*(){let n=W(t);n.asyncQueue.verifyOperationInProgress(),v("RemoteStore","RemoteStore received new credentials");let i=As(n);n.M_.add(3),yield Ts(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Ka(n)})}function wS(t,e){return h(this,null,function*(){let n=W(t);e?(n.M_.delete(2),yield Ka(n)):e||(n.M_.add(2),yield Ts(n),n.N_.set("Unknown"))})}function an(t){return t.k_||(t.k_=function(n,i,r){let s=W(n);return s.m_(),new xd(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:gS.bind(null,t),Eo:vS.bind(null,t),A_:_S.bind(null,t),d_:yS.bind(null,t)}),t.x_.push(e=>h(this,null,function*(){e?(t.k_.e_(),yield Qa(t)):(yield t.k_.stop(),t.v_.length>0&&(v("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Ld=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new w(p.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function By(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),Ha(t))return new w(p.UNAVAILABLE,`${e}: ${t}`);throw t}var Ud=class{constructor(){this.queries=new on(e=>Ey(e),Iy),this.onlineState="Unknown",this.z_=new Set}};function IS(t){t.z_.forEach(e=>{e.next()})}var ry,sy;(sy=ry||(ry={})).J_="default",sy.Cache="cache";var jd=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new on(a=>Ey(a),Iy),this.Da=new Map,this.Ca=new Set,this.va=new Be(N.comparator),this.Fa=new Map,this.Ma=new Es,this.xa={},this.Oa=new Map,this.Na=Is.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function ES(t,e,n){return h(this,null,function*(){let i=CS(t);try{let r=yield function(o,a){let c=W(o),u=Se.now(),l=a.reduce((m,b)=>m.add(b.key),Ce()),d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=Na(),D=Ce();return c.ss.getEntries(m,l).next(R=>{b=R,b.forEach((B,Z)=>{Z.isValidDocument()||(D=D.add(B))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,b)).next(R=>{d=R;let B=[];for(let Z of a){let $e=KC(Z,d.get(Z.key).overlayedDocument);$e!=null&&B.push(new xt(Z.key,$e,my($e.value.mapValue),On.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,B,a)}).next(R=>{f=R;let B=R.applyToLocalDocumentSet(d,D);return c.documentOverlayCache.saveOverlays(m,R.batchId,B)})}).then(()=>({batchId:f.batchId,changes:Ty(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new Be(z)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(i,r.batchId,n),yield Ya(i,r.changes),yield Qa(i.remoteStore)}catch(r){let s=By(r,"Failed to persist write");n.reject(s)}})}function oy(t,e,n){let i=W(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=W(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let f of d.U_)f.j_(a)&&(u=!0)}),u&&IS(c)}(i.eventManager,e),r.length&&i.Sa.l_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function bS(t,e){return h(this,null,function*(){let n=W(t),i=e.batch.batchId;try{let r=yield lS(n.localStore,e);qy(n,i,null),$y(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Ya(n,r)}catch(r){yield hy(r)}})}function TS(t,e,n){return h(this,null,function*(){let i=W(t);try{let r=yield function(o,a){let c=W(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ge(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(i.localStore,e);qy(i,e,n),$y(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Ya(i,r)}catch(r){yield hy(r)}})}function $y(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function qy(t,e,n){let i=W(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Ya(t,e,n){return h(this,null,function*(){let i=W(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,e,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){r.push(u);let l=Ad.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),i.Sa.l_(r),yield function(c,u){return h(this,null,function*(){let l=W(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>g.forEach(u,f=>g.forEach(f.ki,m=>l.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>g.forEach(f.qi,m=>l.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Ha(d))throw d;v("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let f=d.targetId;if(!d.fromCache){let m=l.ts.get(f),b=m.snapshotVersion,D=m.withLastLimboFreeSnapshotVersion(b);l.ts=l.ts.insert(f,D)}}})}(i.localStore,s))})}function AS(t,e){return h(this,null,function*(){let n=W(t);if(!n.currentUser.isEqual(e)){v("SyncEngine","User change. New user:",e.toKey());let i=yield Vy(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new w(p.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ya(n,i._s)}})}function CS(t){let e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TS.bind(null,e),e}var La=class{constructor(){this.synchronizeTabs=!1}initialize(e){return h(this,null,function*(){this.serializer=Wa(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return uS(this.persistence,new Sd,e.initialUser,this.serializer)}createPersistence(e){return new Ed(Td.jr,this.serializer)}createSharedClientState(e){return new Rd}terminate(){return h(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Bd=class{initialize(e,n){return h(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AS.bind(null,this.syncEngine),yield wS(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Ud}()}createDatastore(e){let n=Wa(e.databaseInfo.databaseId),i=function(s){return new Nd(s)}(e.databaseInfo);return function(s,o,a,c){return new Od(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Fd(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oy(this.syncEngine,n,0),function(){return Va.D()?new Va:new Pd}())}createSyncEngine(e,n){return function(r,s,o,a,c,u,l){let d=new jd(r,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return h(this,null,function*(){var e;yield function(i){return h(this,null,function*(){let r=W(i);v("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Ts(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var $d=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pe.UNAUTHENTICATED,this.clientId=Sa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>h(this,null,function*(){v("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(v("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(p.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>h(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=By(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Ph(t,e){return h(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),v("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>h(this,null,function*(){i.isEqual(r)||(yield Vy(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function ay(t,e){return h(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield DS(t);v("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>iy(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>iy(e.remoteStore,r)),t._onlineComponents=e})}function SS(t){return t.name==="FirebaseError"?t.code===p.FAILED_PRECONDITION||t.code===p.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function DS(t){return h(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){v("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ph(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!SS(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),yield Ph(t,new La)}}else v("FirestoreClient","Using default OfflineComponentProvider"),yield Ph(t,new La);return t._offlineComponents})}function RS(t){return h(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(v("FirestoreClient","Using user provided OnlineComponentProvider"),yield ay(t,t._uninitializedComponentsProvider._online)):(v("FirestoreClient","Using default OnlineComponentProvider"),yield ay(t,new Bd))),t._onlineComponents})}function PS(t){return RS(t).then(e=>e.syncEngine)}function zy(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var cy=new Map;function Gy(t,e,n){if(!n)throw new w(p.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kS(t,e,n,i){if(e===!0&&i===!0)throw new w(p.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uy(t){if(!N.isDocumentKey(t))throw new w(p.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ly(t){if(N.isDocumentKey(t))throw new w(p.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function Hy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new w(p.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tf(t);throw new w(p.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ua=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new w(p.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new w(p.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zy((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new w(p.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new w(p.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new w(p.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qi=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ua({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new w(p.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new w(p.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ua(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kh;switch(i.type){case"firstParty":return new Oh(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new w(p.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=cy.get(n);i&&(v("ComponentProvider","Removing Datastore"),cy.delete(n),i.terminate())}(this),Promise.resolve()}};function Wy(t,e,n,i={}){var r;let s=(t=Hy(t,qi))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=pe.MOCK_USER;else{a=Zp(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new w(p.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new pe(u)}t._authCredentials=new Nh(new Ca(a,c))}}var qd=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Mt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},tn=class t extends qd{constructor(e,n,i){super(e,n,MC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new N(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Ky(t,e,...n){if(t=xe(t),Gy("collection","path",e),t instanceof qi){let i=se.fromString(e,...n);return ly(i),new tn(t,null,i)}{if(!(t instanceof Mt||t instanceof tn))throw new w(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(se.fromString(e,...n));return ly(i),new tn(t.firestore,null,i)}}function Qy(t,e,...n){if(t=xe(t),arguments.length===1&&(e=Sa.newId()),Gy("doc","path",e),t instanceof qi){let i=se.fromString(e,...n);return uy(i),new Mt(t,null,new N(i))}{if(!(t instanceof Mt||t instanceof tn))throw new w(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(se.fromString(e,...n));return uy(i),new Mt(t.firestore,t instanceof tn?t.converter:null,new N(i))}}var zd=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Fa(this,"async_queue_retry"),this.hu=()=>{let n=Rh();n&&v("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=Rh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Nt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return h(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Ha(e))throw e;v("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Fn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=Ld.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&O()}verifyOperationInProgress(){}du(){return h(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var ja=class extends qi{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new zd}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jy(this),this._firestoreClient.terminate()}};function Yy(t,e){let n=typeof t=="object"?t:mi(),i=typeof t=="string"?t:e||"(default)",r=Mr(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=Xp("firestore");s&&Wy(r,...s)}return r}function NS(t){return t._firestoreClient||Jy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Jy(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,u,l){return new Bh(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zy(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new $d(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Ba=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nn.fromBase64String(e))}catch(n){throw new w(p.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var $a=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new w(p.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qa=class{constructor(e){this._methodName=e}};var za=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new w(p.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new w(p.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return z(this._lat,e._lat)||z(this._long,e._long)}};var MS=/^__.*__$/,Gd=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new xt(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bn(e,this.data,n,this.fieldTransforms)}};function Xy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}var Hd=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ga(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Xy(this.fu)&&MS.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Wd=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Wa(e)}Fu(e,n,i,r=!1){return new Hd({fu:e,methodName:n,vu:i,path:je.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xS(t){let e=t._freezeSettings(),n=Wa(t._databaseId);return new Wd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OS(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);nv("Data must be an object, but it was:",o,i);let a=ev(i,o),c,u;if(s.merge)c=new mt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let f=VS(e,d,n);if(!o.contains(f))throw new w(p.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);US(l,f)||l.push(f)}c=new mt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Gd(new pt(a),c,u)}function Zy(t,e){if(tv(t=xe(t)))return nv("Unsupported field value:",e,t),ev(t,e);if(t instanceof qa)return function(i,r){if(!Xy(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=Zy(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return qC(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Se.fromDate(i);return{timestampValue:ad(r.serializer,s)}}if(i instanceof Se){let s=new Se(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ad(r.serializer,s)}}if(i instanceof za)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ba)return{bytesValue:JC(r.serializer,i._byteString)};if(i instanceof Mt){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xy(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${tf(i)}`)}(t,e)}function ev(t,e){let n={};return dy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,(i,r)=>{let s=Zy(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function tv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof za||t instanceof Ba||t instanceof Mt||t instanceof qa)}function nv(t,e,n){if(!tv(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=tf(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function VS(t,e,n){if((e=xe(e))instanceof $a)return e._internalPath;if(typeof e=="string")return LS(t,e);throw Ga("Field path arguments must be of type string or ",t,!1,void 0,n)}var FS=new RegExp("[~\\*/\\[\\]]");function LS(t,e,n){if(e.search(FS)>=0)throw Ga(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $a(...e.split("."))._internalPath}catch{throw Ga(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ga(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new w(p.INVALID_ARGUMENT,a+t+c)}function US(t,e){return t.some(n=>n.isEqual(e))}function jS(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}function iv(t,e){let n=Hy(t.firestore,ja),i=Qy(t),r=jS(t.converter,e);return BS(n,[OS(xS(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,On.exists(!1))]).then(()=>i)}function BS(t,e){return function(i,r){let s=new Nt;return i.asyncQueue.enqueueAndForget(()=>h(this,null,function*(){return ES(yield PS(i),r,s)})),s.promise}(NS(t),e)}(function(e,n=!0){(function(r){zi=r})(Kt),Wt(new Ke("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new ja(new Mh(i.getProvider("auth-internal")),new Fh(i.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new w(p.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(u.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ce(G_,"4.6.1",e),ce(G_,"4.6.1","esm2017")})();var $n=class{constructor(e){return e}},rv="firestore",nf=class{constructor(){return xr(rv)}};var rf=new L("angularfire2.firestore-instances");function $S(t,e){let n=To(rv,t,e);return n&&new $n(n)}function qS(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new $n(i)}}var zS={provide:nf,deps:[[new Me,rf]]},GS={provide:$n,useFactory:$S,deps:[[new Me,rf],At]},HS=(()=>{class t{constructor(){ce("angularfire",bn.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=ee({providers:[GS,zS]})}return t})();function sv(t,...e){return{ngModule:HS,providers:[{provide:rf,useFactory:qS(t),multi:!0,deps:[q,wt,yi,Tn,[new Me,qr],[new Me,_i],...e]}]}}var ov=at(iv,!0);var av=at(Ky,!0);var cv=at(Yy,!0);var gv=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(k(qs),k(Ge))},e.\u0275dir=Ie({type:e});let t=e;return t})(),KS=(()=>{let e=class e extends gv{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Qn(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,features:[Lt]});let t=e;return t})(),ic=new L("");var QS={provide:ic,useExisting:Kn(()=>Wi),multi:!0};function YS(){let t=ni()?ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var JS=new L(""),Wi=(()=>{let e=class e extends gv{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!YS())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(k(qs),k(Ge),k(JS,8))},e.\u0275dir=Ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Re("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[jt([QS]),Lt]});let t=e;return t})();var rc=new L(""),_v=new L("");function yv(t){return t!=null}function vv(t){return Ys(t)?Oe(t):t}function wv(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function Iv(t,e){return e.map(n=>n(t))}function XS(t){return!t.validate}function Ev(t){return t.map(e=>XS(e)?e:n=>e.validate(n))}function ZS(t){if(!t)return null;let e=t.filter(yv);return e.length==0?null:function(n){return wv(Iv(n,e))}}function of(t){return t!=null?ZS(Ev(t)):null}function eD(t){if(!t)return null;let e=t.filter(yv);return e.length==0?null:function(n){let i=Iv(n,e).map(vv);return Rf(i).pipe(U(wv))}}function af(t){return t!=null?eD(Ev(t)):null}function uv(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tD(t){return t._rawValidators}function nD(t){return t._rawAsyncValidators}function sf(t){return t?Array.isArray(t)?t:[t]:[]}function Xa(t,e){return Array.isArray(t)?t.includes(e):t===e}function lv(t,e){let n=sf(e);return sf(t).forEach(r=>{Xa(n,r)||n.push(r)}),n}function hv(t,e){return sf(e).filter(n=>!Xa(t,n))}var Za=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=of(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=af(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Hi=class extends Za{get formDirective(){return null}get path(){return null}},Rs=class extends Za{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ec=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},iD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xM=K(y({},iD),{"[class.ng-submitted]":"isSubmitted"}),sc=(()=>{let e=class e extends ec{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(k(Rs,2))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Et("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Lt]});let t=e;return t})(),oc=(()=>{let e=class e extends ec{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(k(Hi,10))},e.\u0275dir=Ie({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Et("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Lt]});let t=e;return t})();var Cs="VALID",Ja="INVALID",Gi="PENDING",Ss="DISABLED";function bv(t){return(ac(t)?t.validators:t)||null}function rD(t){return Array.isArray(t)?of(t):t||null}function Tv(t,e){return(ac(e)?e.asyncValidators:t)||null}function sD(t){return Array.isArray(t)?af(t):t||null}function ac(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function oD(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Q(1e3,"");if(!i[n])throw new Q(1001,"")}function aD(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Q(1002,"")})}var tc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cs}get invalid(){return this.status===Ja}get pending(){return this.status==Gi}get disabled(){return this.status===Ss}get enabled(){return this.status!==Ss}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hv(e,this._rawAsyncValidators))}hasValidator(e){return Xa(this._rawValidators,e)}hasAsyncValidator(e){return Xa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ss,this.errors=null,this._forEachChild(i=>{i.disable(K(y({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(K(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cs,this._forEachChild(i=>{i.enable(K(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(K(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cs||this.status===Gi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ss:Cs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gi,this._hasOwnPendingAsyncValidator=!0;let n=vv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?Ss:this.errors?Ja:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gi)?Gi:this._anyControlsHaveStatus(Ja)?Ja:Cs}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ac(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rD(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sD(this._rawAsyncValidators)}},nc=class extends tc{constructor(e,n,i){super(bv(n),Tv(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){aD(this,!0,e),Object.keys(e).forEach(i=>{oD(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var cf=new L("CallSetDisabledState",{providedIn:"root",factory:()=>uf}),uf="always";function cD(t,e){return[...e.path,t]}function Av(t,e,n=uf){Cv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),lD(t,e),dD(t,e),hD(t,e),uD(t,e)}function dv(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function uD(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Cv(t,e){let n=tD(t);e.validator!==null?t.setValidators(uv(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=nD(t);e.asyncValidator!==null?t.setAsyncValidators(uv(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();dv(e._rawValidators,r),dv(e._rawAsyncValidators,r)}function lD(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Sv(t,e)})}function hD(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Sv(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Sv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dD(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function fD(t,e){t==null,Cv(t,e)}function pD(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function mD(t){return Object.getPrototypeOf(t.constructor)===KS}function gD(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function _D(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Wi?n=s:mD(s)?i=s:r=s}),r||i||n||null}var yD={provide:Hi,useExisting:Kn(()=>Ps)},Ds=Promise.resolve(),Ps=(()=>{let e=class e extends Hi{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new De,this.form=new nc({},of(i),af(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Ds.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Av(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Ds.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Ds.then(()=>{let r=this._findContainer(i.path),s=new nc({});fD(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Ds.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Ds.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,gD(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(k(rc,10),k(_v,10),k(cf,8))},e.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&Re("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[G.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jt([yD]),Lt]});let t=e;return t})();function fv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var vD=class extends tc{constructor(e=null,n,i){super(bv(n),Tv(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ac(n)&&(n.nonNullable||n.initialValueIsDefault)&&(pv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wD={provide:Rs,useExisting:Kn(()=>ks)},mv=Promise.resolve(),ks=(()=>{let e=class e extends Rs{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new vD,this._registered=!1,this.name="",this.update=new De,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=_D(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),pD(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Av(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){mv.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Xe(r);mv.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?cD(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(k(Hi,9),k(rc,10),k(_v,10),k(ic,10),k(Bt,8),k(cf,8))},e.\u0275dir=Ie({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[G.None,"disabled","isDisabled"],model:[G.None,"ngModel","model"],options:[G.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jt([wD]),Lt,dn]});let t=e;return t})(),cc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var ID=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=te({type:e}),e.\u0275inj=ee({});let t=e;return t})();var uc=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:cf,useValue:i.callSetDisabledState??uf}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=te({type:e}),e.\u0275inj=ee({imports:[ID]});let t=e;return t})();var Rv=()=>({standalone:!0});function ED(t,e){if(t&1&&(M(0,"h2",6),Y(1),V()),t&2){let n=pn();ne(),cr(" Usuario registrado: ",n.loggedUser," ")}}function bD(t,e){if(t&1&&(M(0,"p",6),Y(1),V()),t&2){let n=pn();ne(),Ks(n.msjError)}}var Pv=(()=>{let e=class e{constructor(i,r,s){this.router=i,this.auth=r,this.firestore=s,this.loginsCollection=[],this.user="",this.countLogins=0,this.userMail="",this.userPWD="",this.loggedUser="",this.flagError=!1,this.msjError="",this.predefinedData={email:"test2@test.com",password:"123456"}}goTo(i){this.router.navigate([i])}login(i){i.preventDefault(),Ig(this.auth,this.userMail,this.userPWD).then(r=>{r.user.email!==null&&(this.loggedUser=r.user.email),this.flagError=!1;let s=av(this.firestore,"logins");ov(s,{fecha:new Date,user:this.loggedUser}),this.router.navigate(["home"])}).catch(r=>{switch(this.flagError=!0,r.code){case"auth/invalid-email":this.msjError="Email invalido";break;case"auth/invalid-credential":this.msjError="Email o contrase\xF1a incorrecto";break;default:this.msjError=r.code;break}})}autoComplete(i){i.preventDefault(),this.userMail=this.predefinedData.email,this.userPWD=this.predefinedData.password}};e.\u0275fac=function(r){return new(r||e)(k(di),k(Rt),k($n))},e.\u0275cmp=we({type:e,selectors:[["app-login"]],standalone:!0,features:[Ee],decls:25,vars:8,consts:[[1,"body"],["id","container",1,"container"],[1,"form-container"],["action","#"],["type","email","placeholder","Email",3,"ngModelChange","ngModel","ngModelOptions"],["type","password","placeholder","Password",3,"ngModelChange","ngModel","ngModelOptions"],[1,"text-center","text-primary"],[3,"click"],[1,"btn-auto-complete",3,"click"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-right"],["id","signUp",1,"ghost",3,"click"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"h1"),Y(5,"Sign in"),V(),M(6,"span"),Y(7,"Use your account"),V(),M(8,"input",4),Zn("ngModelChange",function(a){return Xn(s.userMail,a)||(s.userMail=a),a}),V(),M(9,"input",5),Zn("ngModelChange",function(a){return Xn(s.userPWD,a)||(s.userPWD=a),a}),V(),fn(10,ED,2,1,"h2",6)(11,bD,2,1,"p",6),M(12,"button",7),Re("click",function(a){return s.login(a)}),Y(13,"Sign In"),V(),M(14,"button",8),Re("click",function(a){return s.autoComplete(a)}),Y(15," Auto Complete "),V()()(),M(16,"div",9)(17,"div",10)(18,"div",11)(19,"h1"),Y(20,"Hello, Friend!"),V(),M(21,"p"),Y(22,"Enter your personal details and start journey with us"),V(),M(23,"button",12),Re("click",function(){return s.goTo("register")}),Y(24," Sign Up "),V()()()()()()),r&2&&(ne(8),Jn("ngModel",s.userMail),He("ngModelOptions",ei(6,Rv)),ne(),Jn("ngModel",s.userPWD),He("ngModelOptions",ei(7,Rv)),ne(),bt(10,s.loggedUser!=""?10:-1),ne(),bt(11,s.flagError?11:-1))},dependencies:[Mc,uc,cc,Wi,sc,oc,ks,Ps],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:Montserrat,sans-serif;height:100vh;background-color:#333;color:#fff}h1[_ngcontent-%COMP%]{font-weight:700;margin:0;color:#ff4b2b}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px;color:#ccc}button[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #ff4b2b;background-color:#ff4b2b;color:#fff;font-size:12px;font-weight:700;padding:12px 45px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;background-color:#555;border-color:#555}form[_ngcontent-%COMP%]{background-color:#333;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#555;border:none;padding:12px 15px;margin:8px 0;width:100%;color:#fff}.container[_ngcontent-%COMP%]{background-color:#666;border-radius:10px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out;left:0;width:50%;z-index:2}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100}.overlay[_ngcontent-%COMP%]{background:#444;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transition:transform .6s ease-in-out;right:0;transform:translate(0)}.text-center[_ngcontent-%COMP%], .text-primary[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:large}.btn-auto-complete[_ngcontent-%COMP%]{background-color:#ff4b2b;margin-top:5px}"]});let t=e;return t})();var hf;try{hf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hf=!1}var yt=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?np(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||hf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(I(It))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ns;function TD(){if(Ns==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ns=!0}))}finally{Ns=Ns||!1}return Ns}function Ki(t){return TD()?t:!!t.capture}var lf;function AD(){if(lf==null){let t=typeof document<"u"?document.head:null;lf=!!(t&&(t.createShadowRoot||t.attachShadow))}return lf}function kv(t){if(AD()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function cn(t){return t.composedPath?t.composedPath()[0]:t.target}function Nv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ff(t){return Array.isArray(t)?t:[t]}function qn(t){return t instanceof Ge?t.nativeElement:t}var Mv=new Set,zn,CD=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DD}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&SD(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(I(yt),I(sr,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SD(t,e){if(!Mv.has(t))try{zn||(zn=document.createElement("style"),e&&zn.setAttribute("nonce",e),zn.setAttribute("type","text/css"),document.head.appendChild(zn)),zn.sheet&&(zn.sheet.insertRule(`@media ${t} {body{ }}`,0),Mv.add(t))}catch(n){console.error(n)}}function DD(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Ov=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new qe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return xv(ff(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=xv(ff(i)).map(a=>this._registerQuery(a).observable),o=tr(s);return o=Os(o.pipe(vt(1)),o.pipe(Fs(1),wc(0))),o.pipe(U(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:l})=>{c.matches=c.matches||u,c.breakpoints[l]=u}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),o={observable:new Zi(a=>{let c=u=>this._zone.run(()=>a.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Ls(r),U(({matches:a})=>({query:i,matches:a})),Wn(this._destroySubject)),mql:r};return this._queries.set(i,o),o}};e.\u0275fac=function(r){return new(r||e)(I(CD),I(q))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xv(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function mf(t){return t.buttons===0||t.detail===0}function gf(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var RD=new L("cdk-input-modality-detector-options"),PD={ignoreKeys:[18,17,224,91,16]},Lv=650,Qi=Ki({passive:!0,capture:!0}),kD=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,s,o){this._platform=i,this._mostRecentTarget=null,this._modality=new Ne(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=cn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Lv||(this._modality.next(mf(a)?"keyboard":"mouse"),this._mostRecentTarget=cn(a))},this._onTouchstart=a=>{if(gf(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cn(a)},this._options=y(y({},PD),o),this.modalityDetected=this._modality.pipe(Fs(1)),this.modalityChanged=this.modalityDetected.pipe(kf()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Qi),s.addEventListener("mousedown",this._onMousedown,Qi),s.addEventListener("touchstart",this._onTouchstart,Qi)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qi),document.removeEventListener("mousedown",this._onMousedown,Qi),document.removeEventListener("touchstart",this._onTouchstart,Qi))}};e.\u0275fac=function(r){return new(r||e)(I(yt),I(q),I(le),I(RD,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hc=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(hc||{}),ND=new L("cdk-focus-monitor-default-options"),lc=Ki({passive:!0,capture:!0}),Uv=(()=>{let e=class e{constructor(i,r,s,o,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qe,this._rootNodeFocusAndBlurListener=c=>{let u=cn(c);for(let l=u;l;l=l.parentElement)c.type==="focus"?this._onFocus(c,l):this._onBlur(c,l)},this._document=o,this._detectionMode=a?.detectionMode||hc.IMMEDIATE}monitor(i,r=!1){let s=qn(i);if(!this._platform.isBrowser||s.nodeType!==1)return C();let o=kv(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new qe,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=qn(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){let o=qn(i),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===hc.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===hc.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?Lv:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,r){let s=this._elementInfo.get(r),o=cn(i);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(i,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,lc),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,lc)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lc),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lc),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((s,o)=>{(o===i||s.checkChildren&&o.contains(i))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let o=i.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(I(q),I(yt),I(kD),I(le,8),I(ND,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Gn=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Gn||{}),Vv="cdk-high-contrast-black-on-white",Fv="cdk-high-contrast-white-on-black",pf="cdk-high-contrast-active",jv=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=T(Ov).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Gn.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Gn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Gn.BLACK_ON_WHITE}return Gn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(pf,Vv,Fv),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Gn.BLACK_ON_WHITE?i.add(pf,Vv):r===Gn.WHITE_ON_BLACK&&i.add(pf,Fv)}}};e.\u0275fac=function(r){return new(r||e)(I(yt),I(le))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _f=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=te({type:e}),e.\u0275inj=ee({});let t=e;return t})();var MD=["mat-internal-form-field",""],xD=["*"];function OD(){return!0}var VD=new L("mat-sanity-checks",{providedIn:"root",factory:OD}),If=(()=>{let e=class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Nv()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(I(jv),I(VD,8),I(le))},e.\u0275mod=te({type:e}),e.\u0275inj=ee({imports:[_f,_f]});let t=e;return t})();var Ye=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Ye||{}),yf=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Ye.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},$v=Ki({passive:!0,capture:!0}),vf=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=cn(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){let s=this._events.get(n);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,$v)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,$v)))}},qv={enterDuration:225,exitDuration:150},FD=800,zv=Ki({passive:!0,capture:!0}),Gv=["mousedown","touchstart"],Hv=["mouseup","mouseleave","touchend","touchcancel"],Ms=class Ms{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=qn(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=y(y({},qv),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let o=i.radius||LD(e,n,r),a=e-r.left,c=n-r.top,u=s.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${a-o}px`,l.style.top=`${c-o}px`,l.style.height=`${o*2}px`,l.style.width=`${o*2}px`,i.color!=null&&(l.style.backgroundColor=i.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);let d=window.getComputedStyle(l),f=d.transitionProperty,m=d.transitionDuration,b=f==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,D=new yf(this,l,i,b);l.style.transform="scale3d(1, 1, 1)",D.state=Ye.FADING_IN,i.persistent||(this._mostRecentTransientRipple=D);let R=null;return!b&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let B=()=>this._finishRippleTransition(D),Z=()=>this._destroyRipple(D);l.addEventListener("transitionend",B),l.addEventListener("transitioncancel",Z),R={onTransitionEnd:B,onTransitionCancel:Z}}),this._activeRipples.set(D,R),(b||!u)&&this._finishRippleTransition(D),D}fadeOutRipple(e){if(e.state===Ye.FADING_OUT||e.state===Ye.HIDDEN)return;let n=e.element,i=y(y({},qv),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Ye.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=qn(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Gv.forEach(i=>{Ms._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hv.forEach(n=>{this._triggerElement.addEventListener(n,this,zv)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ye.FADING_IN?this._startFadeOutTransition(e):e.state===Ye.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Ye.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ye.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=mf(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+FD;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gf(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Ye.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ye.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Gv.forEach(n=>Ms._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&Hv.forEach(n=>e.removeEventListener(n,this,zv)))}};Ms._eventManager=new vf;var wf=Ms;function LD(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var UD=new L("mat-ripple-global-options"),Wv=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,o,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new wf(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:y(y(y({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,y(y({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,y(y({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(k(Ge),k(q),k(yt),k(UD,8),k(Yn,8))},e.\u0275dir=Ie({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&Et("mat-ripple-unbounded",s.unbounded)},inputs:{color:[G.None,"matRippleColor","color"],unbounded:[G.None,"matRippleUnbounded","unbounded"],centered:[G.None,"matRippleCentered","centered"],radius:[G.None,"matRippleRadius","radius"],animation:[G.None,"matRippleAnimation","animation"],disabled:[G.None,"matRippleDisabled","disabled"],trigger:[G.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})();var Kv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=we({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,s){r&2&&Et("mdc-form-field--align-end",s.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Ee],attrs:MD,ngContentSelectors:xD,decls:1,vars:0,template:function(r,s){r&1&&(zs(),Gs(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0});let t=e;return t})();var jD=["switch"],BD=["*"];function $D(t,e){t&1&&(M(0,"div",10),Vf(),M(1,"svg",12),Je(2,"path",13),V(),M(3,"svg",14),Je(4,"path",15),V()())}var qD=new L("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),zD={provide:ic,useExisting:Kn(()=>Qv),multi:!0},dc=class{constructor(e,n){this.source=e,this.checked=n}},GD=0,Qv=(()=>{let e=class e{_createChangeEvent(i){return new dc(this,i)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,r,s,o,a,c){this._elementRef=i,this._focusMonitor=r,this._changeDetectorRef=s,this.defaults=a,this._onChange=u=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new De,this.toggleChange=new De,this.tabIndex=parseInt(o)||0,this.color=a.color||"accent",this._noopAnimations=c==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++GD}`,this.hideIcon=a.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{i==="keyboard"||i==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):i||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(i){i.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(i){this.checked=!!i}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorOnChange=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new dc(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};e.\u0275fac=function(r){return new(r||e)(k(Ge),k(Uv),k(Bt),Cc("tabindex"),k(qD),k(Yn,8))},e.\u0275cmp=we({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(r,s){if(r&1&&Pc(jD,5),r&2){let o;Hs(o=Ws())&&(s._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,s){r&2&&(Rc("id",s.id),Ut("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Gf(s.color?"mat-"+s.color:""),Et("mat-mdc-slide-toggle-focused",s._focused)("mat-mdc-slide-toggle-checked",s.checked)("_mat-animation-noopable",s._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[G.None,"aria-label","ariaLabel"],ariaLabelledby:[G.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[G.None,"aria-describedby","ariaDescribedby"],required:[G.HasDecoratorInputTransform,"required","required",Xe],color:"color",disabled:[G.HasDecoratorInputTransform,"disabled","disabled",Xe],disableRipple:[G.HasDecoratorInputTransform,"disableRipple","disableRipple",Xe],tabIndex:[G.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>i==null?0:Jf(i)],checked:[G.HasDecoratorInputTransform,"checked","checked",Xe],hideIcon:[G.HasDecoratorInputTransform,"hideIcon","hideIcon",Xe]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[jt([zD,{provide:rc,useExisting:e,multi:!0}]),ar,dn,Ee],ngContentSelectors:BD,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,s){if(r&1){let o=Hf();zs(),M(0,"div",1)(1,"button",2,0),Re("click",function(){return Tc(o),Ac(s._handleClick())}),Je(3,"div",3),M(4,"div",4)(5,"div",5)(6,"div",6),Je(7,"div",7),V(),M(8,"div",8),Je(9,"div",9),V(),fn(10,$D,5,0,"div",10),V()()(),M(11,"label",11),Re("click",function(c){return Tc(o),Ac(c.stopPropagation())}),Gs(12),V()()}if(r&2){let o=Wf(2);He("labelPosition",s.labelPosition),ne(),Et("mdc-switch--selected",s.checked)("mdc-switch--unselected",!s.checked)("mdc-switch--checked",s.checked)("mdc-switch--disabled",s.disabled),He("tabIndex",s.disabled?-1:s.tabIndex)("disabled",s.disabled),Ut("id",s.buttonId)("name",s.name)("aria-label",s.ariaLabel)("aria-labelledby",s._getAriaLabelledBy())("aria-describedby",s.ariaDescribedby)("aria-required",s.required||null)("aria-checked",s.checked),ne(8),He("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),ne(),bt(10,s.hideIcon?-1:10),ne(),He("for",s.buttonId),Ut("id",s._labelId)}},dependencies:[Wv,Kv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0});let t=e;return t})();var Yv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=te({type:e}),e.\u0275inj=ee({imports:[Qv,If,If]});let t=e;return t})();var Jv=()=>({standalone:!0});function HD(t,e){if(t&1&&(M(0,"h2",6),Y(1),V()),t&2){let n=pn();ne(),cr(" Usuario registrado: ",n.loggedUser," ")}}function WD(t,e){if(t&1&&(M(0,"p",6),Y(1),V()),t&2){let n=pn();ne(),Ks(n.msjError)}}var Xv=(()=>{let e=class e{constructor(i,r){this.router=i,this.auth=r,this.newUserMail="",this.newUserPWD="",this.loggedUser="",this.flagError=!1,this.msjError="",this.isRightPanelActive=!1}signUp(i){i.preventDefault(),vg(this.auth,this.newUserMail,this.newUserPWD).then(r=>{r.user.email!==null&&(this.loggedUser=r.user.email),this.flagError=!1,this.router.navigate(["home"])}).catch(r=>{switch(this.flagError=!0,r.code){case"auth/invalid-email":this.msjError="Email invalido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;default:this.msjError=r.code;break}})}goTo(i){this.router.navigate([i])}};e.\u0275fac=function(r){return new(r||e)(k(di),k(Rt))},e.\u0275cmp=we({type:e,selectors:[["app-register"]],standalone:!0,features:[Ee],decls:23,vars:8,consts:[[1,"body"],[1,"container"],[1,"form-container"],["action","#"],["type","email","placeholder","Email",3,"ngModelChange","ngModel","ngModelOptions"],["type","password","placeholder","Password",3,"ngModelChange","ngModel","ngModelOptions"],[1,"text-center","text-primary"],[3,"click"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel"],["id","signIn",1,"ghost",3,"click"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"h1"),Y(5,"Create Account"),V(),M(6,"span"),Y(7,"Use your email for registration"),V(),M(8,"input",4),Zn("ngModelChange",function(a){return Xn(s.newUserMail,a)||(s.newUserMail=a),a}),V(),M(9,"input",5),Zn("ngModelChange",function(a){return Xn(s.newUserPWD,a)||(s.newUserPWD=a),a}),V(),fn(10,HD,2,1,"h2",6)(11,WD,2,1,"p",6),M(12,"button",7),Re("click",function(a){return s.signUp(a)}),Y(13,"Sign Up"),V()()(),M(14,"div",8)(15,"div",9)(16,"div",10)(17,"h1"),Y(18,"Welcome Back!"),V(),M(19,"p"),Y(20,"To keep connected with us please login with your personal info"),V(),M(21,"button",11),Re("click",function(){return s.goTo("login")}),Y(22," Sign In "),V()()()()()()),r&2&&(ne(8),Jn("ngModel",s.newUserMail),He("ngModelOptions",ei(6,Jv)),ne(),Jn("ngModel",s.newUserPWD),He("ngModelOptions",ei(7,Jv)),ne(),bt(10,s.loggedUser!=""?10:-1),ne(),bt(11,s.flagError?11:-1))},dependencies:[uc,cc,Wi,sc,oc,ks,Ps,Yv],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:Montserrat,sans-serif;height:100vh;background-color:#333;color:#fff}h1[_ngcontent-%COMP%]{font-weight:700;margin:0;color:#ff4b2b}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px;color:#ccc}button[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #ff4b2b;background-color:#ff4b2b;color:#fff;font-size:12px;font-weight:700;padding:12px 45px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;background-color:#555;border-color:#555}form[_ngcontent-%COMP%]{background-color:#333;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#555;border:none;padding:12px 15px;margin:8px 0;width:100%;color:#fff}.container[_ngcontent-%COMP%]{background-color:#666;border-radius:10px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out;left:0;width:50%;opacity:0;z-index:1;transform:translate(100%);opacity:1;z-index:5;animation:show .6s}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100;transform:translate(-100%)}.overlay[_ngcontent-%COMP%]{background:#444;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out;transform:translate(50%)}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transform:translate(0);transition:transform .6s ease-in-out}.text-center[_ngcontent-%COMP%], .text-primary[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:large}"]});let t=e;return t})();var Zv=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Pv},{path:"register",component:Xv},{path:"home",component:Wp},{path:"**",component:Kp}];var KD="@",QD=(()=>{let e=class e{constructor(i,r,s,o,a){this.doc=i,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=T(Uf,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-ZDE62XPU.js")).catch(r=>{throw new Q(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new Ef(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(i,r);o.use(c)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Dc()},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Ef=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(KD)}};function ew(t="animations"){return jf("NgAsyncAnimations"),rr([{provide:$s,useFactory:(e,n,i)=>new QD(e,n,i,t),deps:[le,Zs,q]},{provide:Yn,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var tw={providers:[Gp(Zv),Us(Em(()=>bm({projectId:"tp-sala-juegos-a2ac6",appId:"1:472694916683:web:c43d2e2c5bd8409022efce",storageBucket:"tp-sala-juegos-a2ac6.appspot.com",apiKey:"AIzaSyAZlkCG0l0rVUgIo9txoLaIVJ_KY9jeNSU",authDomain:"tp-sala-juegos-a2ac6.firebaseapp.com",messagingSenderId:"472694916683"}))),Us(yg(()=>wg())),Us(sv(()=>cv())),ew()]};var nw=(()=>{let e=class e{constructor(){this.title="tp_sala_juegos"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=we({type:e,selectors:[["app-root"]],standalone:!0,features:[Ee],decls:1,vars:0,template:function(r,s){r&1&&Je(0,"router-outlet")},dependencies:[Eu]});let t=e;return t})();lp(nw,tw).catch(t=>console.error(t));
